
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>CodeDmx Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#welcome" class="toc-h1 toc-link" data-title="Welcome">Welcome</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#server-requirements" class="toc-h2 toc-link" data-title="Welcome">Server Requirements</a>
                  </li>
                  <li>
                    <a href="#license" class="toc-h2 toc-link" data-title="Welcome">License</a>
                  </li>
                  <li>
                    <a href="#installation" class="toc-h2 toc-link" data-title="Welcome">Installation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#error-reporting" class="toc-h1 toc-link" data-title="Error reporting">Error reporting</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#all-options" class="toc-h2 toc-link" data-title="Error reporting">All options</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#configuration" class="toc-h1 toc-link" data-title="Configuration">Configuration</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#url-settings" class="toc-h2 toc-link" data-title="Configuration">URL Settings</a>
                  </li>
                  <li>
                    <a href="#analytics-account" class="toc-h2 toc-link" data-title="Configuration">Analytics account</a>
                  </li>
                  <li>
                    <a href="#database-settings" class="toc-h2 toc-link" data-title="Configuration">Database settings</a>
                  </li>
                  <li>
                    <a href="#encrypt-settings" class="toc-h2 toc-link" data-title="Configuration">Encrypt settings</a>
                  </li>
                  <li>
                    <a href="#autoload-settings" class="toc-h2 toc-link" data-title="Configuration">Autoload Settings</a>
                  </li>
                  <li>
                    <a href="#ftp-settings" class="toc-h2 toc-link" data-title="Configuration">FTP Settings</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#google-analytics-and-compress-page" class="toc-h1 toc-link" data-title="Google analytics and Compress Page">Google analytics and Compress Page</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#google-analytics" class="toc-h2 toc-link" data-title="Google analytics and Compress Page">Google analytics</a>
                  </li>
                  <li>
                    <a href="#compress-page" class="toc-h2 toc-link" data-title="Google analytics and Compress Page">Compress page</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#loader" class="toc-h1 toc-link" data-title="Loader">Loader</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#load-library" class="toc-h2 toc-link" data-title="Loader">Load library</a>
                  </li>
                  <li>
                    <a href="#load-view" class="toc-h2 toc-link" data-title="Loader">Load view</a>
                  </li>
                  <li>
                    <a href="#load-helper" class="toc-h2 toc-link" data-title="Loader">Load helper</a>
                  </li>
                  <li>
                    <a href="#load-custom-class" class="toc-h2 toc-link" data-title="Loader">Load custom class</a>
                  </li>
                  <li>
                    <a href="#method-extend" class="toc-h2 toc-link" data-title="Loader">Method extend</a>
                  </li>
                  <li>
                    <a href="#construct" class="toc-h2 toc-link" data-title="Loader">Construct</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#router" class="toc-h1 toc-link" data-title="Router">Router</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#router-features" class="toc-h2 toc-link" data-title="Router">Router Features</a>
                  </li>
                  <li>
                    <a href="#set-base-path" class="toc-h2 toc-link" data-title="Router">Set Base Path</a>
                  </li>
                  <li>
                    <a href="#router-default-routes" class="toc-h2 toc-link" data-title="Router">Router default routes</a>
                  </li>
                  <li>
                    <a href="#mapping-routes" class="toc-h2 toc-link" data-title="Router">Mapping routes</a>
                  </li>
                  <li>
                    <a href="#example-mapping" class="toc-h2 toc-link" data-title="Router">Example Mapping</a>
                  </li>
                  <li>
                    <a href="#match-types" class="toc-h2 toc-link" data-title="Router">Match types</a>
                  </li>
                  <li>
                    <a href="#matching-requests" class="toc-h2 toc-link" data-title="Router">Matching Requests</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#agent-helper" class="toc-h1 toc-link" data-title="Agent Helper">Agent Helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#know-browser" class="toc-h2 toc-link" data-title="Agent Helper">Know browser</a>
                  </li>
                  <li>
                    <a href="#is-mobile" class="toc-h2 toc-link" data-title="Agent Helper">Is mobile</a>
                  </li>
                  <li>
                    <a href="#curl" class="toc-h2 toc-link" data-title="Agent Helper">Curl</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#array-helper" class="toc-h1 toc-link" data-title="Array Helper">Array Helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#random-element" class="toc-h2 toc-link" data-title="Array Helper">Random element</a>
                  </li>
                  <li>
                    <a href="#array-to-string" class="toc-h2 toc-link" data-title="Array Helper">Array to string</a>
                  </li>
                  <li>
                    <a href="#chunk-an-array" class="toc-h2 toc-link" data-title="Array Helper">Chunk an array</a>
                  </li>
                  <li>
                    <a href="#deep-flatten" class="toc-h2 toc-link" data-title="Array Helper">Deep Flatten</a>
                  </li>
                  <li>
                    <a href="#drop" class="toc-h2 toc-link" data-title="Array Helper">Drop</a>
                  </li>
                  <li>
                    <a href="#flatten" class="toc-h2 toc-link" data-title="Array Helper">Flatten</a>
                  </li>
                  <li>
                    <a href="#has-duplicates" class="toc-h2 toc-link" data-title="Array Helper">Has duplicates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cookie-helper" class="toc-h1 toc-link" data-title="Cookie Helper">Cookie Helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#set-cookie" class="toc-h2 toc-link" data-title="Cookie Helper">Set cookie</a>
                  </li>
                  <li>
                    <a href="#get-cookie" class="toc-h2 toc-link" data-title="Cookie Helper">Get cookie</a>
                  </li>
                  <li>
                    <a href="#delete-cookie" class="toc-h2 toc-link" data-title="Cookie Helper">Delete cookie</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#directory-helper" class="toc-h1 toc-link" data-title="Directory Helper">Directory Helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#map-directory" class="toc-h2 toc-link" data-title="Directory Helper">Map directory</a>
                  </li>
                  <li>
                    <a href="#create-directory" class="toc-h2 toc-link" data-title="Directory Helper">Create directory</a>
                  </li>
                  <li>
                    <a href="#delete-directoru" class="toc-h2 toc-link" data-title="Directory Helper">Delete directoru</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#download-helper" class="toc-h1 toc-link" data-title="Download helper">Download helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#download-file" class="toc-h2 toc-link" data-title="Download helper">Download file</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#html-helper" class="toc-h1 toc-link" data-title="HTML Helper">HTML Helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#embed-string" class="toc-h2 toc-link" data-title="HTML Helper">Embed string</a>
                  </li>
                  <li>
                    <a href="#create-link-tag" class="toc-h2 toc-link" data-title="HTML Helper">Create link tag</a>
                  </li>
                  <li>
                    <a href="#validate-email-address" class="toc-h2 toc-link" data-title="HTML Helper">Validate email address</a>
                  </li>
                  <li>
                    <a href="#generate-qr-code" class="toc-h2 toc-link" data-title="HTML Helper">Generate QR code</a>
                  </li>
                  <li>
                    <a href="#heading" class="toc-h2 toc-link" data-title="HTML Helper">Heading</a>
                  </li>
                  <li>
                    <a href="#image" class="toc-h2 toc-link" data-title="HTML Helper">Image</a>
                  </li>
                  <li>
                    <a href="#ul" class="toc-h2 toc-link" data-title="HTML Helper">UL</a>
                  </li>
                  <li>
                    <a href="#ol" class="toc-h2 toc-link" data-title="HTML Helper">OL</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#security-helper" class="toc-h1 toc-link" data-title="Security helper">Security helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-an-id" class="toc-h2 toc-link" data-title="Security helper">Create an id</a>
                  </li>
                  <li>
                    <a href="#crypt-and-decrypt-string" class="toc-h2 toc-link" data-title="Security helper">Crypt and decrypt string</a>
                  </li>
                  <li>
                    <a href="#get-ip" class="toc-h2 toc-link" data-title="Security helper">Get ip</a>
                  </li>
                  <li>
                    <a href="#get-location" class="toc-h2 toc-link" data-title="Security helper">Get Location</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#string-helper" class="toc-h1 toc-link" data-title="String helper">String helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#random-string" class="toc-h2 toc-link" data-title="String helper">Random string</a>
                  </li>
                  <li>
                    <a href="#reduce-multiples" class="toc-h2 toc-link" data-title="String helper">Reduce multiples</a>
                  </li>
                  <li>
                    <a href="#create-string" class="toc-h2 toc-link" data-title="String helper">Create string</a>
                  </li>
                  <li>
                    <a href="#reduce-double-slashes" class="toc-h2 toc-link" data-title="String helper">Reduce double slashes</a>
                  </li>
                  <li>
                    <a href="#number-to-word" class="toc-h2 toc-link" data-title="String helper">Number to word</a>
                  </li>
                  <li>
                    <a href="#starts-with" class="toc-h2 toc-link" data-title="String helper">Starts with</a>
                  </li>
                  <li>
                    <a href="#ends-with" class="toc-h2 toc-link" data-title="String helper">Ends with</a>
                  </li>
                  <li>
                    <a href="#first-string-between" class="toc-h2 toc-link" data-title="String helper">First string between</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#text-helper" class="toc-h1 toc-link" data-title="Text helper">Text helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cut-string" class="toc-h2 toc-link" data-title="Text helper">Cut string</a>
                  </li>
                  <li>
                    <a href="#word-censor" class="toc-h2 toc-link" data-title="Text helper">Word censor</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#url-helper" class="toc-h1 toc-link" data-title="URL Helper">URL Helper</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#current-url" class="toc-h2 toc-link" data-title="URL Helper">Current URL</a>
                  </li>
                  <li>
                    <a href="#is-https" class="toc-h2 toc-link" data-title="URL Helper">Is https</a>
                  </li>
                  <li>
                    <a href="#is-ajax" class="toc-h2 toc-link" data-title="URL Helper">Is AJAX</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#encryptation-class" class="toc-h1 toc-link" data-title="Encryptation Class">Encryptation Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#a-simple-example" class="toc-h2 toc-link" data-title="Encryptation Class">A simple example</a>
                  </li>
                  <li>
                    <a href="#work-factor" class="toc-h2 toc-link" data-title="Encryptation Class">Work factor</a>
                  </li>
                  <li>
                    <a href="#change-the-schema" class="toc-h2 toc-link" data-title="Encryptation Class">Change the schema</a>
                  </li>
                  <li>
                    <a href="#structure" class="toc-h2 toc-link" data-title="Encryptation Class">Structure</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cache-class" class="toc-h1 toc-link" data-title="Cache Class">Cache Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#set-cache" class="toc-h2 toc-link" data-title="Cache Class">Set cache</a>
                  </li>
                  <li>
                    <a href="#store" class="toc-h2 toc-link" data-title="Cache Class">Store</a>
                  </li>
                  <li>
                    <a href="#get-cache-elements" class="toc-h2 toc-link" data-title="Cache Class">Get cache elements</a>
                  </li>
                  <li>
                    <a href="#switch-back" class="toc-h2 toc-link" data-title="Cache Class">Switch back</a>
                  </li>
                  <li>
                    <a href="#erase-entry" class="toc-h2 toc-link" data-title="Cache Class">Erase entry</a>
                  </li>
                  <li>
                    <a href="#check-cached-data" class="toc-h2 toc-link" data-title="Cache Class">Check cached data</a>
                  </li>
                  <li>
                    <a href="#set-cache-path" class="toc-h2 toc-link" data-title="Cache Class">Set Cache path</a>
                  </li>
                  <li>
                    <a href="#get-cache-file-path" class="toc-h2 toc-link" data-title="Cache Class">Get Cache file path</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ftp-class" class="toc-h1 toc-link" data-title="FTP Class">FTP Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#connect-to-host" class="toc-h2 toc-link" data-title="FTP Class">Connect to host</a>
                  </li>
                  <li>
                    <a href="#upload-a-file" class="toc-h2 toc-link" data-title="FTP Class">Upload a file</a>
                  </li>
                  <li>
                    <a href="#download-a-file" class="toc-h2 toc-link" data-title="FTP Class">Download a file</a>
                  </li>
                  <li>
                    <a href="#delete-a-file" class="toc-h2 toc-link" data-title="FTP Class">Delete a file</a>
                  </li>
                  <li>
                    <a href="#delete-a-folder" class="toc-h2 toc-link" data-title="FTP Class">Delete a folder</a>
                  </li>
                  <li>
                    <a href="#list-files" class="toc-h2 toc-link" data-title="FTP Class">List files</a>
                  </li>
                  <li>
                    <a href="#create-directory" class="toc-h2 toc-link" data-title="FTP Class">Create directory</a>
                  </li>
                  <li>
                    <a href="#rename-a-file" class="toc-h2 toc-link" data-title="FTP Class">Rename a file</a>
                  </li>
                  <li>
                    <a href="#move-a-file" class="toc-h2 toc-link" data-title="FTP Class">Move a file</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#image-class" class="toc-h1 toc-link" data-title="Image Class">Image Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#first-of-all-a-simple-example" class="toc-h2 toc-link" data-title="Image Class">First of all: A simple example</a>
                  </li>
                  <li>
                    <a href="#saving" class="toc-h2 toc-link" data-title="Image Class">Saving</a>
                  </li>
                  <li>
                    <a href="#converting-between-formats" class="toc-h2 toc-link" data-title="Image Class">Converting between Formats</a>
                  </li>
                  <li>
                    <a href="#method-chaining" class="toc-h2 toc-link" data-title="Image Class">Method Chaining</a>
                  </li>
                  <li>
                    <a href="#loaders" class="toc-h2 toc-link" data-title="Image Class">Loaders</a>
                  </li>
                  <li>
                    <a href="#savers" class="toc-h2 toc-link" data-title="Image Class">Savers</a>
                  </li>
                  <li>
                    <a href="#utilities" class="toc-h2 toc-link" data-title="Image Class">Utilities</a>
                  </li>
                  <li>
                    <a href="#manipulation" class="toc-h2 toc-link" data-title="Image Class">Manipulation</a>
                  </li>
                  <li>
                    <a href="#drawing" class="toc-h2 toc-link" data-title="Image Class">Drawing</a>
                  </li>
                  <li>
                    <a href="#filters" class="toc-h2 toc-link" data-title="Image Class">Filters</a>
                  </li>
                  <li>
                    <a href="#color-utilities" class="toc-h2 toc-link" data-title="Image Class">Color utilities</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#mail-class" class="toc-h1 toc-link" data-title="Mail Class">Mail Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#first-of-all-a-simple-example" class="toc-h2 toc-link" data-title="Mail Class">First of all: A simple example</a>
                  </li>
                  <li>
                    <a href="#sending-an-attachment" class="toc-h2 toc-link" data-title="Mail Class">Sending an Attachment</a>
                  </li>
                  <li>
                    <a href="#available-methods" class="toc-h2 toc-link" data-title="Mail Class">Available Methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#paginator-class" class="toc-h1 toc-link" data-title="Paginator Class">Paginator Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#basic-usage" class="toc-h2 toc-link" data-title="Paginator Class">Basic usage</a>
                  </li>
                  <li>
                    <a href="#rendering-a-custom-pagination-control" class="toc-h2 toc-link" data-title="Paginator Class">Rendering a custom pagination control</a>
                  </li>
                  <li>
                    <a href="#pages-data-structure" class="toc-h2 toc-link" data-title="Paginator Class">Pages data structure</a>
                  </li>
                  <li>
                    <a href="#customizing-the-number-of-pages-shown" class="toc-h2 toc-link" data-title="Paginator Class">Customizing the number of pages shown</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#query-builder-class" class="toc-h1 toc-link" data-title="Query Builder Class">Query Builder Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-multiple-connection" class="toc-h2 toc-link" data-title="Query Builder Class">Add multiple connection</a>
                  </li>
                  <li>
                    <a href="#select-query" class="toc-h2 toc-link" data-title="Query Builder Class">Select Query</a>
                  </li>
                  <li>
                    <a href="#insert-query" class="toc-h2 toc-link" data-title="Query Builder Class">Insert Query</a>
                  </li>
                  <li>
                    <a href="#update-query" class="toc-h2 toc-link" data-title="Query Builder Class">Update Query</a>
                  </li>
                  <li>
                    <a href="#delete-query" class="toc-h2 toc-link" data-title="Query Builder Class">Delete Query</a>
                  </li>
                  <li>
                    <a href="#where-having-methods" class="toc-h2 toc-link" data-title="Query Builder Class">Where / Having Methods</a>
                  </li>
                  <li>
                    <a href="#ordering-method" class="toc-h2 toc-link" data-title="Query Builder Class">Ordering method</a>
                  </li>
                  <li>
                    <a href="#groping-method" class="toc-h2 toc-link" data-title="Query Builder Class">Groping Method</a>
                  </li>
                  <li>
                    <a href="#join-method" class="toc-h2 toc-link" data-title="Query Builder Class">JOIN Method</a>
                  </li>
                  <li>
                    <a href="#has-method" class="toc-h2 toc-link" data-title="Query Builder Class">Has method</a>
                  </li>
                  <li>
                    <a href="#helper-methods" class="toc-h2 toc-link" data-title="Query Builder Class">Helper methods</a>
                  </li>
                  <li>
                    <a href="#properties-sharing" class="toc-h2 toc-link" data-title="Query Builder Class">Properties sharing</a>
                  </li>
                  <li>
                    <a href="#pagination" class="toc-h2 toc-link" data-title="Query Builder Class">Pagination</a>
                  </li>
                  <li>
                    <a href="#query-exectution-time-benchmarking" class="toc-h2 toc-link" data-title="Query Builder Class">Query exectution time benchmarking</a>
                  </li>
                  <li>
                    <a href="#subqueries" class="toc-h2 toc-link" data-title="Query Builder Class">Subqueries</a>
                  </li>
                  <li>
                    <a href="#exists-not-exists-condition" class="toc-h2 toc-link" data-title="Query Builder Class">EXISTS / NOT EXISTS condition</a>
                  </li>
                  <li>
                    <a href="#queries" class="toc-h2 toc-link" data-title="Query Builder Class">Queries</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#session-class" class="toc-h1 toc-link" data-title="Session Class">Session Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#set-session" class="toc-h2 toc-link" data-title="Session Class">Set session</a>
                  </li>
                  <li>
                    <a href="#has-seted" class="toc-h2 toc-link" data-title="Session Class">Has seted</a>
                  </li>
                  <li>
                    <a href="#unset" class="toc-h2 toc-link" data-title="Session Class">Unset</a>
                  </li>
                  <li>
                    <a href="#get" class="toc-h2 toc-link" data-title="Session Class">Get</a>
                  </li>
                  <li>
                    <a href="#destroy" class="toc-h2 toc-link" data-title="Session Class">Destroy</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#timeago-class" class="toc-h1 toc-link" data-title="TimeAgo Class">TimeAgo Class</a>
          </li>
          <li>
            <a href="#upload-class" class="toc-h1 toc-link" data-title="Upload class">Upload class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#a-simple-example" class="toc-h2 toc-link" data-title="Upload class">A simple example</a>
                  </li>
                  <li>
                    <a href="#allow_mime_type" class="toc-h2 toc-link" data-title="Upload class">allow_mime_type</a>
                  </li>
                  <li>
                    <a href="#allowed_mime_types" class="toc-h2 toc-link" data-title="Upload class">allowed_mime_types</a>
                  </li>
                  <li>
                    <a href="#auto_filename" class="toc-h2 toc-link" data-title="Upload class">auto_filename</a>
                  </li>
                  <li>
                    <a href="#callback_input" class="toc-h2 toc-link" data-title="Upload class">callback_input</a>
                  </li>
                  <li>
                    <a href="#callback_output" class="toc-h2 toc-link" data-title="Upload class">callback_output</a>
                  </li>
                  <li>
                    <a href="#destination" class="toc-h2 toc-link" data-title="Upload class">destination</a>
                  </li>
                  <li>
                    <a href="#filename" class="toc-h2 toc-link" data-title="Upload class">filename</a>
                  </li>
                  <li>
                    <a href="#max_file_size" class="toc-h2 toc-link" data-title="Upload class">max_file_size</a>
                  </li>
                  <li>
                    <a href="#upload_function" class="toc-h2 toc-link" data-title="Upload class">upload_function</a>
                  </li>
                  <li>
                    <a href="#size_format" class="toc-h2 toc-link" data-title="Upload class">size_format</a>
                  </li>
                  <li>
                    <a href="#size_in_bytes" class="toc-h2 toc-link" data-title="Upload class">size_in_bytes</a>
                  </li>
                  <li>
                    <a href="#get_info" class="toc-h2 toc-link" data-title="Upload class">get_info()</a>
                  </li>
                  <li>
                    <a href="#status" class="toc-h2 toc-link" data-title="Upload class">status()</a>
                  </li>
                  <li>
                    <a href="#is_dirpath" class="toc-h2 toc-link" data-title="Upload class">is_dirpath</a>
                  </li>
                  <li>
                    <a href="#is_filename" class="toc-h2 toc-link" data-title="Upload class">is_filename</a>
                  </li>
                  <li>
                    <a href="#allow_overwriting" class="toc-h2 toc-link" data-title="Upload class">allow_overwriting()</a>
                  </li>
                  <li>
                    <a href="#check_mime_type" class="toc-h2 toc-link" data-title="Upload class">check_mime_type</a>
                  </li>
                  <li>
                    <a href="#clear_allowed_mime_types" class="toc-h2 toc-link" data-title="Upload class">clear_allowed_mime_types()</a>
                  </li>
                  <li>
                    <a href="#dir_exists" class="toc-h2 toc-link" data-title="Upload class">dir_exists</a>
                  </li>
                  <li>
                    <a href="#file_exists" class="toc-h2 toc-link" data-title="Upload class">file_exists</a>
                  </li>
                  <li>
                    <a href="#save" class="toc-h2 toc-link" data-title="Upload class">save()</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#validator-class" class="toc-h1 toc-link" data-title="Validator Class">Validator Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#a-simple-example" class="toc-h2 toc-link" data-title="Validator Class">A simple example</a>
                  </li>
                  <li>
                    <a href="#available-methods" class="toc-h2 toc-link" data-title="Validator Class">Available Methods</a>
                  </li>
                  <li>
                    <a href="#long-format-example" class="toc-h2 toc-link" data-title="Validator Class">Long format example</a>
                  </li>
                  <li>
                    <a href="#creating-your-own-validators-and-filters" class="toc-h2 toc-link" data-title="Validator Class">Creating your own validators and filters</a>
                  </li>
                  <li>
                    <a href="#available-filters" class="toc-h2 toc-link" data-title="Validator Class">Available Filters</a>
                  </li>
                  <li>
                    <a href="#validate-file-fields" class="toc-h2 toc-link" data-title="Validator Class">Validate file fields</a>
                  </li>
                  <li>
                    <a href="#url-exists-example" class="toc-h2 toc-link" data-title="Validator Class">URL Exists (Example)</a>
                  </li>
                  <li>
                    <a href="#validate-street-address-example" class="toc-h2 toc-link" data-title="Validator Class">Validate street address (Example)</a>
                  </li>
                  <li>
                    <a href="#sanitize-string-example" class="toc-h2 toc-link" data-title="Validator Class">Sanitize string (Example)</a>
                  </li>
                  <li>
                    <a href="#match-strings-example" class="toc-h2 toc-link" data-title="Validator Class">Match strings (Example)</a>
                  </li>
                  <li>
                    <a href="#escaping-mysql-strings-example" class="toc-h2 toc-link" data-title="Validator Class">Escaping Mysql Strings (Example)</a>
                  </li>
                  <li>
                    <a href="#custom-validator-example" class="toc-h2 toc-link" data-title="Validator Class">Custom validator (Example)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#zip-class" class="toc-h1 toc-link" data-title="Zip Class">Zip Class</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#adding-new-files-to-the-zip-creating-new-zip-file" class="toc-h2 toc-link" data-title="Zip Class">Adding new files to the zip / Creating new zip file:</a>
                  </li>
                  <li>
                    <a href="#extracting-unzipping-files" class="toc-h2 toc-link" data-title="Zip Class">Extracting (unzipping) files:</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='example.html'>Examples</a></li>
            <li><a href='https://github.com/mxra8/slate' target="_blank">Made with Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='welcome'>Welcome</h1>
<p>CodeDmx is a Our PHP framework project that want to enable you to develop projects much faster than you could if you were writing code from scratch, by providing a rich set of libraries for commonly needed task.</p>

<p>CodeDmx PHP Framwork can help you if:</p>

<ul>
<li>You want a framework with a small footprint.</li>
<li>You want a framework that requires nearly zero configuration.</li>
<li>You want a framework that does not require you to use the command line.</li>
<li>You want a framework that does not require you to adhere to restrictive coding rules.</li>
<li>You are not interested in large-scale monolithic libraries like PEAR.</li>
<li>You do not want to be forced to learn a templating language (although a template parser is optionally available if you desire one).</li>
<li>You need clear, thorough documentation.</li>
</ul>
<h2 id='server-requirements'>Server Requirements</h2>
<ol>
<li>Web server: Ngnix or Apache (with mod_rewrite)</li>
<li>PHP version 7.0 or newer is required.
<code>It should works on 5.6, but we work with the last version of PHP.</code></li>
<li>MySQLi PHP Extension</li>
<li>OpenSSL PHP Extension</li>
<li>Mbstring PHP Extension</li>
</ol>
<h2 id='license'>License</h2>
<p><strong>The MIT License (MIT)</strong></p>

<p>Copyright (c) 2014 - 2017, CodeDMx</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.</p>
<h2 id='installation'>Installation</h2>
<p>CodeDmx is installed really quickly:</p>

<ol>
<li>Unzip the package.</li>
<li>Upload the CodeDmx folders and files to your server.</li>
</ol>

<p>One additional measure to take in production environments is to disable PHP error reporting and any other development-only functionality.  This can be disable in index.php</p>

<p><strong>That&#39;s it!</strong></p>
<h1 id='error-reporting'>Error reporting</h1>
<p>PHP errors are not good enough for development, it&#39;s as simple as that. This aims to solve this.</p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35151329_2086731074928935_8159052263000637440_o.jpg?_nc_cat=0&amp;oh=46fd588d04581c56e2892ab6e7dbadba&amp;oe=5BAE3343" alt="PHPError" /></p>

<p>When an error strikes, the page is replaced with a full stack trace, syntax highlighting, and all displayed to be readable.</p>

<p><strong>Works with Ajax too!</strong></p>

<p>If the server errors during an ajax request, then the request is paused, and the error is displayed in the browser. You can then click to automatically retry the last request.</p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/34840885_2086731088262267_312278653956259840_o.jpg?_nc_cat=0&amp;oh=c2df62f8e1b1c132cd5a20779765f46f&amp;oe=5BC0D525" alt="PHPError" /></p>

<p>This requires no changes to your JavaScript, and works with existing JS libraries such as jQuery.</p>

<blockquote>
<p>By default Error Handler hasn&#39;t options in line 92 of index.php file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$handler</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ErrorHandler</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="nv">$handler</span><span class="o">-&gt;</span><span class="na">turn_on</span><span class="p">();</span>
</code></pre><h2 id='all-options'>All options</h2>
<p>Usage Examples</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'snippet_num_lines'</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s1">'background_text'</span>  <span class="o">=&gt;</span> <span class="s1">'Error!'</span><span class="p">,</span>
    <span class="s1">'error_reporting_off'</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">'error_reporting_on'</span> <span class="o">=&gt;</span> <span class="k">E_ALL</span> <span class="o">|</span> <span class="nx">E_STRICT</span>
<span class="p">);</span>
<span class="nv">$handler</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ErrorHandler</span><span class="p">(</span><span class="nv">$options</span><span class="p">);</span>
<span class="nv">$handler</span><span class="o">-&gt;</span><span class="na">turn_on</span><span class="p">();</span>
</code></pre>
<table><thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>catch_ajax_errors</td>
<td>true</td>
<td>When on, this will inject JS Ajax wrapping code, to allow this to catch any future JSON errors.</td>
</tr>
<tr>
<td>catch_supressed_errors</td>
<td>false</td>
<td>The @ supresses errors. If set to true, then they are still reported anyway, but respected when false.</td>
</tr>
<tr>
<td>catch_class_not_found</td>
<td>true</td>
<td>When true, loading a class that does not exist will be caught. If there are any existing class loaders, they will be run first, giving you a chance to load the class.</td>
</tr>
<tr>
<td>error_reporting_on</td>
<td>-1 (everything)</td>
<td>The error reporting value for when errors are turned on by Error Handler.</td>
</tr>
<tr>
<td>error_reporting_off</td>
<td>the value of &#39;error_reporting&#39;</td>
<td>The error reporting value for when Error Handler reporting is turned off. By default it just goes back to the standard level.</td>
</tr>
<tr>
<td>application_root</td>
<td>$_SERVER[&#39;DOCUMENT_ROOT&#39;]</td>
<td>When it&#39;s working out the stack trace, this is the root folder of the application, to use as it&#39;s base. A relative path can be given, but lets be honest, an explicit path is the way to guarantee that you will get the path you want. My relative might not be the same as your relative.</td>
</tr>
<tr>
<td>display_line_numbers</td>
<td>true</td>
<td>When on, line numbers are shown in the editor, and when off, they are not.</td>
</tr>
<tr>
<td>server_name</td>
<td>$_SERVER[&#39;SERVER_NAME&#39;]</td>
<td>The name for this server; it&#39;s domain address or ip being used to access it. This is displayed in the output to tell you which project the error is being reported in.</td>
</tr>
<tr>
<td>ignore_folders</td>
<td>null (no folders)</td>
<td>This is allows you to highlight non-framework code in a stack trace. An array of folders to ignore, when working out the stack trace. This is folder prefixes in relation to the application_root, whatever that might be. They are only ignored if there is a file found outside of them. If you still don&#39;t get what this does, don&#39;t worry, it&#39;s here cos I use it.</td>
</tr>
<tr>
<td>application_folders</td>
<td>null (no folders)</td>
<td>Just like ignore, but anything found in these folders takes precedence over anything else.</td>
</tr>
<tr>
<td>background_text</td>
<td>an empty string</td>
<td>The text that appeares in the background. By default this is blank. Why? You can replace this with the name of your framework, for extra customization spice.</td>
</tr>
<tr>
<td>wordpress</td>
<td>false</td>
<td>This is no longer needed on the latest versions of WordPress. When on, this will use a lower error reporting level, which works with Wordpress. This is because the Wordpress code base is full of minor bugs, and doesn&#39;t like strict error reporting.</td>
</tr>
<tr>
<td>enable_saving</td>
<td>true</td>
<td>When true, Error Handler allows external requests to save files. This is so the editor can save changes back.</td>
</tr>
</tbody></table>
<h1 id='configuration'>Configuration</h1>
<p>Inside of the folder /application/Config/ you can find multiple files to use better this PHP Framework.</p>
<h2 id='url-settings'>URL Settings</h2>
<p><em>url.settings.php</em></p>

<p>This file is so important to be the first one to load, because will have all document root files that the Framework needs.</p>

<p>This variables can be edit.</p>

<blockquote>
<p>Base site url</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Can set manually like the URL on is host your project, but if you want you can change with a real URL
// $GLOBALS['COD']-&gt;dir = 'http://codedmx.com/';
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">dir</span> <span class="o">=</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTPS'</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTPS'</span><span class="p">]</span><span class="o">==</span><span class="s1">'on'</span> <span class="o">?</span> <span class="s1">'https'</span> <span class="o">:</span> <span class="s1">'http'</span> <span class="p">)</span><span class="o">.</span><span class="s1">'://'</span><span class="o">.</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_HOST'</span><span class="p">]</span><span class="o">.</span><span class="nx">DS</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Base site document root</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Is about Document Root $_SERVER['DOCUMENT_ROOT'] of your project, but if you want you can change it.
// $GLOBALS['COD']-&gt;doc = '/var/www/vhosts/codedmx/';
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s2">"application/Config"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="nb">realpath</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">)));</span>
</code></pre>
<blockquote>
<p>Base site document root for config folder</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Is about Document Root $_SERVER['DOCUMENT_ROOT'] of your project by Config folder.
// $GLOBALS['COD']-&gt;doc_config = '/var/www/vhosts/codedmx/application/Config/';
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_config</span> <span class="o">=</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">.</span> <span class="s1">'application'</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">'Config'</span> <span class="o">.</span> <span class="nx">DS</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Base site document root for view folder</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Is about Document Root $_SERVER['DOCUMENT_ROOT'] of your project by View folder.
// $GLOBALS['COD']-&gt;doc_view = '/var/www/vhosts/codedmx/application/View/';
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_view</span> <span class="o">=</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">.</span> <span class="s1">'application'</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">'View'</span> <span class="o">.</span> <span class="nx">DS</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Base site document root for Class folder</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Is about Document Root $_SERVER['DOCUMENT_ROOT'] of your project by Class folder.
// $GLOBALS['COD']-&gt;doc_class = '/var/www/vhosts/codedmx/system/Classes/';
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_class</span> <span class="o">=</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">.</span> <span class="s1">'system'</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">'Classes'</span> <span class="o">.</span> <span class="nx">DS</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Base site document root for Custom Class folder</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Is about Document Root $_SERVER['DOCUMENT_ROOT'] of your project by Custom_class folder.
// $GLOBALS['COD']-&gt;doc_custom = '/var/www/vhosts/codedmx/system/Custom_class/';
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_custom</span> <span class="o">=</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">.</span> <span class="s1">'system'</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">'Custom_class'</span> <span class="o">.</span> <span class="nx">DS</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Base site document root for Helper folder</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Is about Document Root $_SERVER['DOCUMENT_ROOT'] of your project by Helper folder.
// $GLOBALS['COD']-&gt;doc_helper = '/var/www/vhosts/codedmx/system/Helper/';
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_helper</span> <span class="o">=</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">.</span> <span class="s1">'system'</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">'Helper'</span> <span class="o">.</span> <span class="nx">DS</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Default php file when you type your url &#39;https://codedmx.com&#39;</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">default</span> <span class="o">=</span> <span class="s1">'home'</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Default php file when you type your url &#39;https://codedmx.com&#39; and the file can&#39;t be found</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// This file will find in /application/View/static/{$GLOBALS['COD']-&gt;not_found}.php
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">not_found</span> <span class="o">=</span> <span class="s1">'File'</span><span class="p">;</span>
</code></pre><h2 id='analytics-account'>Analytics account</h2>
<p>You have a variable to set your analytics id account to use it in the future.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">analytics</span> <span class="o">=</span> <span class="s1">'UA-XXXXXXX-X'</span><span class="p">;</span>
</code></pre><h2 id='database-settings'>Database settings</h2>
<p><em>db.settings.php</em></p>

<p>This variables are to access your database. You can add more arrays with multiple databases configs.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>host</td>
<td>The hostname of your database server.</td>
</tr>
<tr>
<td>username</td>
<td>The username used to connect to the database.</td>
</tr>
<tr>
<td>password</td>
<td>The password used to connect to the database.</td>
</tr>
<tr>
<td>db</td>
<td>The name of the database you want to connect.</td>
</tr>
<tr>
<td>port</td>
<td>The port used to connect to the database.</td>
</tr>
<tr>
<td>charset</td>
<td>The character set used in communicating with the database.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">db</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'default'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'host'</span> <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span> <span class="c1">// Required
</span>        <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// Required
</span>        <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// Required
</span>        <span class="s1">'db'</span><span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// Required
</span>        <span class="s1">'port'</span> <span class="o">=&gt;</span> <span class="mi">3306</span><span class="p">,</span>
        <span class="s1">'charset'</span> <span class="o">=&gt;</span> <span class="s1">'utf8'</span>
    <span class="p">),</span>
    <span class="s1">'myotherdb'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'host'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// Required
</span>        <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// Required
</span>        <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// Required
</span>        <span class="s1">'db'</span><span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// Required
</span>        <span class="s1">'port'</span> <span class="o">=&gt;</span> <span class="mi">3306</span><span class="p">,</span>
        <span class="s1">'charset'</span> <span class="o">=&gt;</span> <span class="s1">'utf8'</span>
    <span class="p">)</span>
<span class="p">);</span>
</code></pre><h2 id='encrypt-settings'>Encrypt settings</h2>
<p><em>encrypt.settings.php</em></p>

<p>Some people believe MD5 would be a safe way to encode passwords. Is a lie! MD5 is a good method to obscure non-sensitive data, because it&#39;s quite fast.</p>

<aside class="warning">The default schema is $2y$, which makes use of the new, corrected hash implementation. This can be modify con CFG.php file</aside>

<blockquote>
<p>Hash the passwords</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Can be: 2a, 2x or 2y
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">identifier</span> <span class="o">=</span> <span class="s1">'2y'</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Encrypt settings</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">emethod</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span> <span class="c1">// AES-256-CBC | aes-128-cbc, AES-128-CFB
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">ekey</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span> <span class="c1">//qw1209132j
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">eiv</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span> <span class="c1">// *123+1*23*
</span></code></pre><h2 id='autoload-settings'>Autoload Settings</h2>
<p><em>autoload.settings.php</em></p>

<p>You can set autoload classes and helpers that you need in all the project, and you don&#39;t need to load it again in the future.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>db</td>
<td>Data base class</td>
</tr>
<tr>
<td>validate</td>
<td>Validator class</td>
</tr>
<tr>
<td>crypt</td>
<td>Encryptation class</td>
</tr>
<tr>
<td>mail</td>
<td>Mailing class</td>
</tr>
<tr>
<td>timeago</td>
<td>Timeago class</td>
</tr>
<tr>
<td>image</td>
<td>Image class</td>
</tr>
<tr>
<td>ftp</td>
<td>FTP class</td>
</tr>
<tr>
<td>upload</td>
<td>Uploader class</td>
</tr>
<tr>
<td>cache</td>
<td>Cache class</td>
</tr>
<tr>
<td>paginator</td>
<td>Paginator class</td>
</tr>
<tr>
<td>router</td>
<td>Router class</td>
</tr>
<tr>
<td>session</td>
<td>Session class</td>
</tr>
<tr>
<td>zip</td>
<td>Zip class</td>
</tr>
</tbody></table>

<blockquote>
<p>You need to send array</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">autoload</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="c1">// Can set db and session like autoload:
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">autoload</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'db'</span><span class="p">,</span> <span class="s1">'session'</span><span class="p">);</span>

<span class="c1">// And you don't need to use this function to load the library
// $this-&gt;load-&gt;library('db');
// $this-&gt;load-&gt;library('session');
</span></code></pre>
<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array</td>
<td>Array helper</td>
</tr>
<tr>
<td>cookie</td>
<td>Cookie helper</td>
</tr>
<tr>
<td>directory</td>
<td>Directory helper</td>
</tr>
<tr>
<td>download</td>
<td>Download helper</td>
</tr>
<tr>
<td>html</td>
<td>HTML helper</td>
</tr>
<tr>
<td>security</td>
<td>Security helper</td>
</tr>
<tr>
<td>string</td>
<td>String helper</td>
</tr>
<tr>
<td>text</td>
<td>Text helper</td>
</tr>
<tr>
<td>url</td>
<td>URL helper</td>
</tr>
<tr>
<td>agent</td>
<td>User helper</td>
</tr>
</tbody></table>

<blockquote>
<p>You need to send array</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">helpers</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="c1">// Can set db and session like autoload:
</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">helpers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'array'</span><span class="p">,</span> <span class="s1">'url'</span><span class="p">);</span>

<span class="c1">// And you don't need to use this function to load the helper
// $this-&gt;load-&gt;helper('array');
// $this-&gt;load-&gt;helper('url');
</span></code></pre><h2 id='ftp-settings'>FTP Settings</h2>
<p><em>ftp.settings.php</em></p>

<p>This variables are to access your ftp connection.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hostname</td>
<td>FTP Server hostname (http://codedmx.com OR 172.52.33.125)</td>
</tr>
<tr>
<td>username</td>
<td>FTP Username</td>
</tr>
<tr>
<td>password</td>
<td>FTP Password</td>
</tr>
<tr>
<td>port</td>
<td>FTP Server port</td>
</tr>
<tr>
<td>passive</td>
<td>Passive mode flag</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">ftp</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'hostname'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'port'</span> <span class="o">=&gt;</span> <span class="mi">21</span><span class="p">,</span>
    <span class="s1">'passive'</span> <span class="o">=&gt;</span> <span class="k">TRUE</span>
<span class="p">);</span>
</code></pre><h1 id='google-analytics-and-compress-page'>Google analytics and Compress Page</h1><h2 id='google-analytics'>Google analytics</h2>
<p>You can use a function to create your Google Analytics Code.</p>

<aside class="warning">Remember to edit your config.php file to set your Google Analytics ID</aside>

<blockquote>
<p>Imagine this file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">'//my_css.css'</span><span class="nt">&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">'//jquery.min.js'</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">create_ga</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
<blockquote>
<p>And this will output something like this:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">'//my_css.css'</span><span class="nt">&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">'//jquery.min.js'</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="c">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span>
        <span class="nt">&lt;script </span><span class="na">async</span> <span class="na">src=</span><span class="s">'https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-X'</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script&gt;</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">dataLayer</span> <span class="o">||</span> <span class="p">[];</span>
            <span class="kd">function</span> <span class="nx">gtag</span><span class="p">(){</span><span class="nx">dataLayer</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);}</span>
            <span class="nx">gtag</span><span class="p">(</span><span class="s1">'js'</span><span class="p">,</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">());</span>
            <span class="nx">gtag</span><span class="p">(</span><span class="s1">'config'</span><span class="p">,</span> <span class="s1">'UA-XXXXXXX-X'</span><span class="p">);</span>
        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre><h2 id='compress-page'>Compress page</h2>
<p>You can compress all the code of your page.</p>

<blockquote>
<p>Image this file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">compress_page</span><span class="p">();</span>
<span class="cp">?&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">'//my_css.css'</span><span class="nt">&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">'//jquery.min.js'</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
<blockquote>
<p>And this will output something like this:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;html&gt;&lt;head&gt;&lt;link</span> <span class="na">href=</span><span class="s">'//my_css.css'</span><span class="nt">&gt;&lt;script </span><span class="na">src=</span><span class="s">'//jquery.min.js'</span><span class="nt">&gt;&lt;/script&gt;&lt;/head&gt;&lt;/html&gt;</span>
</code></pre><h1 id='loader'>Loader</h1>
<p>CodeDmx Framwork has a master class that can help you to make easy the code that you need</p>
<h2 id='load-library'>Load library</h2>
<p>Load library it called in __construct function to know if you set some class into autoload config.</p>

<p>For example:</p>

<p>You have a database, and you want to use it only in a php file.</p>

<blockquote>
<p>You need to use this</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'db'</span><span class="p">);</span>

<span class="c1">// Then
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>If you set this library in autoload config file, you only need to use the method.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
</code></pre><h2 id='load-view'>Load view</h2>
<p>Load a file from your server it&#39;s so easy, if the file path doesn&#39;t exists, will return not found file alert:</p>

<blockquote>
<p>You need to use this</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">'my_file'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>You can set the path of the file:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">//$file, $path
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">'my_file'</span><span class="p">,</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">.</span> <span class="s1">'system'</span> <span class="o">.</span> <span class="nx">DS</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>You can send arguments into an array</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// $file, $path, $args
</span><span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'test'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">'other'</span> <span class="o">=&gt;</span> <span class="mi">2</span>
<span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">'my_file'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nv">$array</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>You can set what is the extension of the file, by default is php</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// $file, $path, $args, $extension
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">'my_file'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="s1">'html'</span><span class="p">);</span>
</code></pre><h2 id='load-helper'>Load helper</h2>
<p>Like load a library, you can autoload a helper file</p>

<blockquote>
<p>You need to use this</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'url'</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">url</span><span class="o">-&gt;</span><span class="na">get_current_URL</span><span class="p">();</span>
</code></pre><h2 id='load-custom-class'>Load custom class</h2>
<p>We know that you&#39;ll have some custom classes, well, you have a folder to save your classes, and you can call them like this</p>

<blockquote>
<p>You need to use this</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param string $filename // File name in custom class
 * @param string $classname // Class name
 * @param string $new_name // What will be it new name ($this-&gt;my_class-&gt;method())
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">custom</span><span class="p">(</span><span class="s1">'myclass'</span><span class="p">,</span> <span class="s1">'MyClass'</span><span class="p">,</span> <span class="s1">'myclass'</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">myclass</span><span class="o">-&gt;</span><span class="na">method</span><span class="p">();</span>
</code></pre><h2 id='method-extend'>Method extend</h2>
<p>When you create a custom class you need to extends all COD_Loader class</p>

<blockquote>
<p>Like this, imagine you create user.class.php</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">Users</span> <span class="k">extends</span> <span class="nx">COD_Loader</span> <span class="p">{</span>
    <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'db'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="nf">get_users</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>And you have an index file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">custom</span><span class="p">(</span><span class="s1">'user.class'</span><span class="p">,</span> <span class="s1">'Users'</span><span class="p">,</span> <span class="s1">'users'</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span><span class="o">-&gt;</span><span class="na">get_users</span><span class="p">());</span>
</code></pre><h2 id='construct'>Construct</h2>
<p>The __construct method firstly know if you set autoload libraries, then check if you set autoload helpers, then Load routers</p>
<h1 id='router'>Router</h1>
<p><em>/application/Config/routers.settings.php</em></p>

<p>CodeDmx has a router to help you to mane your routes without use htaccess.
Let&#39;s explain this:</p>
<h2 id='router-features'>Router Features</h2>
<ul>
<li>HTTP methods</li>
<li>Dynamic routing with (named) route parameters</li>
<li>Flexible regular expression routing, inspired by <a href="http://sinatrarb.com/">Sinatra</a></li>
<li>Reversed routing</li>
<li>Custom regexes</li>
</ul>
<h2 id='set-base-path'>Set Base Path</h2>
<p>Optionally, if your project lives in a sub-folder of your web root you use the set_base_path() method to set a base path.</p>

<p><em>$this-&gt;router-&gt;set_base_path(&#39;/sub-folder/&#39;);</em></p>
<h2 id='router-default-routes'>Router default routes</h2>
<blockquote>
<p>Router has default routes, firstly the router is Loaded</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">COD_Router</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>If you type http://yoursite.com this will enter in this condition</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Make sure that default file exists in the View folder
// By default, the $GLOBALS['COD']-&gt;default is 'home'
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="s1">'GET|POST'</span><span class="p">,</span> <span class="s1">'/'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">require</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_view</span> <span class="o">.</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">default</span> <span class="o">.</span> <span class="s1">'.php'</span><span class="p">;</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>If you type http://yoursite.com/some_file/ this will enter in this condicion</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Make sure that not_found file exists in the View/Static folder
// By default, the $GLOBALS['COD']-&gt;not_found is 'File'
// All string before your site will enter in this condition
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="s1">'GET|POST'</span><span class="p">,</span> <span class="s1">'/[:page]/'</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$page</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nb">file_exists</span><span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_view</span> <span class="o">.</span> <span class="nv">$page</span> <span class="o">.</span> <span class="s1">'.php'</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="k">require</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_view</span> <span class="o">.</span> <span class="s1">'static'</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">not_found</span> <span class="o">.</span> <span class="s1">'.php'</span><span class="p">;</span>
        <span class="k">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">require</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_view</span> <span class="o">.</span> <span class="nv">$page</span> <span class="o">.</span> <span class="s1">'.php'</span><span class="p">;</span>
        <span class="k">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre><h2 id='mapping-routes'>Mapping routes</h2>
<p>By now, you should have rewritten al requests to be handled by the routers settings which it created the Router instance.</p>

<p>To map your routes, use the map() method. The following example maps all GET / requests.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span> <span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'/'</span><span class="p">,</span> <span class="s1">'render_home'</span><span class="p">,</span> <span class="s1">'home'</span> <span class="p">);</span>
</code></pre>
<p>The map() method accepts the following parameters.</p>

<p>$method (string)
This is a pipe-delimited string of the accepted HTTP requests methods.</p>

<p>Example: GET|POST|PATCH|PUT|DELETE</p>

<p>$route (string)
This is the route pattern to match against. This can be a plain string, one of the predefined regex filters or a custom regex. Custom regexes must start with @.</p>

<p>Examples:</p>

<table><thead>
<tr>
<th>Route</th>
<th>Example Match</th>
<th>Variables</th>
</tr>
</thead><tbody>
<tr>
<td>/contact/</td>
<td>/contact/</td>
<td></td>
</tr>
<tr>
<td>/users/[i:id]/</td>
<td>/users/12/</td>
<td>$id: 12</td>
</tr>
<tr>
<td>/[a:c]/[a:a]?/[i:id]?</td>
<td>/controller/action/21</td>
<td>$c: &quot;controller&quot;, $a: &quot;action&quot;, $id: 21</td>
</tr>
</tbody></table>

<p>$target (mixed)
As Router leaves handling routes up to you, this can be anything.</p>

<p>Example using a function callback:
function() { ... }</p>

<p>Example using a controller#action string:
UserController#showDetails</p>

<p>$name (string, optional)
If you want to use reversed routing, specify a name parameter so you can later generate URL&#39;s using this route.</p>

<p>Example:
user_details</p>
<h2 id='example-mapping'>Example Mapping</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// map homepage using callable
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span> <span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'/contact/[:string]'</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'key_string'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$string</span><span class="p">;</span>

    <span class="k">require</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc_view</span> <span class="o">.</span> <span class="s1">'contact.php'</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// map users details page using controller#action string
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span> <span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'/users/[i:id]/'</span><span class="p">,</span> <span class="s1">'UserController#showDetails'</span> <span class="p">);</span>

<span class="c1">// map contact form handler using function name string
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span> <span class="s1">'POST'</span><span class="p">,</span> <span class="s1">'/contact/'</span><span class="p">,</span> <span class="s1">'handleContactForm'</span> <span class="p">);</span>
</code></pre>
<p>For quickly adding multiple routes, you can use the addRoutes method. This method accepts an array or any kind of traversable.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">add_routes</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="k">array</span><span class="p">(</span><span class="s1">'PATCH'</span><span class="p">,</span><span class="s1">'/users/[i:id]'</span><span class="p">,</span> <span class="s1">'users#update'</span><span class="p">,</span> <span class="s1">'update_user'</span><span class="p">),</span>
  <span class="k">array</span><span class="p">(</span><span class="s1">'DELETE'</span><span class="p">,</span><span class="s1">'/users/[i:id]'</span><span class="p">,</span> <span class="s1">'users#delete'</span><span class="p">,</span> <span class="s1">'delete_user'</span><span class="p">)</span>
<span class="p">));</span>
</code></pre><h2 id='match-types'>Match types</h2>
<p>You can use the following limits on your named parameters. Router will create the correct regexes for you.</p>

<table><thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*</td>
<td>Match all request URIs</td>
</tr>
<tr>
<td>[i]</td>
<td>Match an integer</td>
</tr>
<tr>
<td>[i:id]</td>
<td>Match an integer as &#39;id&#39;</td>
</tr>
<tr>
<td>[a:action]</td>
<td>Match alphanumeric characters as &#39;action&#39;</td>
</tr>
<tr>
<td>[h:key]</td>
<td>Match hexadecimal characters as &#39;key&#39;</td>
</tr>
<tr>
<td>[:action]</td>
<td>Match anything up to the next / or end of the URI as &#39;action&#39;</td>
</tr>
<tr>
<td>[create</td>
<td>edit:action]</td>
</tr>
<tr>
<td>[*]</td>
<td>Catch all (lazy, stops at the next trailing slash)</td>
</tr>
<tr>
<td>[*:trailing]</td>
<td>Catch all as &#39;trailing&#39; (lazy)</td>
</tr>
<tr>
<td>[**:trailing]</td>
<td>Catch all (possessive - will match the rest of the URI)</td>
</tr>
<tr>
<td>.[:format]?</td>
<td>Match an optional parameter &#39;format&#39; - a / or . before the block is also optional</td>
</tr>
</tbody></table>

<p>The character before the colon (the &#39;match type&#39;) is a shortcut for one of the following regular expressions</p>

<table><thead>
<tr>
<th>Expression</th>
<th>Regex</th>
</tr>
</thead><tbody>
<tr>
<td>i</td>
<td>[0-9]++</td>
</tr>
<tr>
<td>a</td>
<td>[0-9A-Za-z]++</td>
</tr>
<tr>
<td>h</td>
<td>[0-9A-Fa-f]++</td>
</tr>
<tr>
<td>*</td>
<td>.+?</td>
</tr>
<tr>
<td>**</td>
<td>.++</td>
</tr>
<tr>
<td></td>
<td>[^/.]++</td>
</tr>
</tbody></table>

<blockquote>
<p>You can register your own match types using the add_match_types() method.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">add_match_types</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'cId'</span> <span class="o">=&gt;</span> <span class="s1">'[a-zA-Z]{2}[0-9](?:_[0-9]++)?'</span><span class="p">));</span>
</code></pre><h2 id='matching-requests'>Matching Requests</h2>
<p>To match the current request, just call the <code>match()</code> method without any parameters.</p>

<p><em>$match = $this-&gt;router-&gt;match();</em></p>

<p>If a match was found, the match() method will return an associative array with the following 3 keys.</p>

<p>target (mixed)
The target of the route, given during mapping the route.</p>

<p>params (array)
Named parameters found in the request url.</p>

<p>name (string)
The name of the route.</p>

<p>Example</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">COD_Router</span><span class="p">();</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span> <span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'/'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="o">..</span> <span class="p">},</span> <span class="s1">'home'</span> <span class="p">);</span>

<span class="c1">// assuming current request url = '/'
</span><span class="nv">$match</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">router</span><span class="o">-&gt;</span><span class="na">match</span><span class="p">();</span>

<span class="cm">/*
array(3) {
    ["target"]  =&gt; object(Closure)#2 (0) { }
    ["params"]  =&gt; array(0) { }
    ["name"]    =&gt; 'home'
}
*/</span>
</code></pre>
<p>Router does not process the request for you, you are free to use the method you prefer. Here is a simplified example how to process requests using closures though.</p>
<h1 id='agent-helper'>Agent Helper</h1>
<p>Agent helper can help you about browser or agent user is use it.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'agent'</span><span class="p">);</span>
</code></pre><h2 id='know-browser'>Know browser</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">agent</span><span class="o">-&gt;</span><span class="na">know_browser</span><span class="p">();</span>
<span class="c1">// In my case, will output: Google Chrome, Version: 67.0.3396.79, Mac OS2
</span></code></pre><h2 id='is-mobile'>Is mobile</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// This will return void
</span><span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">agent</span><span class="o">-&gt;</span><span class="na">is_mobile</span><span class="p">());</span>
</code></pre><h2 id='curl'>Curl</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// You can use this method to make curl calls
</span><span class="sd">/**
 * @param  string  $url
 * @param  string  $method
 * @param  mixed $data
 * @param  mixed $headers
 * @param  boolean $return
*/</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">agent</span><span class="o">-&gt;</span><span class="na">curl</span><span class="p">(</span><span class="s1">'http://yoursite.com'</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">));</span>
</code></pre><h1 id='array-helper'>Array Helper</h1>
<p>The Array Helper file contains functions that assist in working with arrays.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'array'</span><span class="p">);</span>
</code></pre><h2 id='random-element'>Random element</h2>
<p>Takes an array as input and returns a random element</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   array
 *
 * @return  mixed   depends on what the array contains
*/</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'blue'</span><span class="p">,</span> <span class="s1">'red'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">array</span><span class="o">-&gt;</span><span class="na">random_element</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
</code></pre><h2 id='array-to-string'>Array to string</h2>
<p>Convert Array to string expected output: <key1>=&quot;value1&quot; <key2>=&quot;value2&quot;</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param  array $array
 *
 * @return string
*/</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">'blue'</span><span class="p">,</span> <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s1">'red'</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s1">'green'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">array</span><span class="o">-&gt;</span><span class="na">random_element</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
</code></pre><h2 id='chunk-an-array'>Chunk an array</h2>
<p>Chunks an array into smaller arrays of a specified size.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
* @param array $array
* @param int $size
*
* @return array
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">array</span><span class="o">-&gt;</span><span class="na">chunk</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">);</span>
<span class="c1">// output: [[1, 2], [3, 4], [5]]
</span></code></pre><h2 id='deep-flatten'>Deep Flatten</h2>
<p>Deep flattens an array.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">array</span><span class="o">-&gt;</span><span class="na">deep_flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">5</span><span class="p">]);</span>
<span class="c1">// output: [1, 2, 3, 4, 5]
</span></code></pre><h2 id='drop'>Drop</h2>
<p>Returns a new array with n elements removed from the left.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
* @param array $array
* @param int $n default: 1
*
* @return array
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">array</span><span class="o">-&gt;</span><span class="na">drop</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<span class="c1">// output: [2,3]
</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">array</span><span class="o">-&gt;</span><span class="na">drop</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">);</span>
<span class="c1">// output: [3]
</span></code></pre><h2 id='flatten'>Flatten</h2>
<p>Flattens an array up to the one level depth.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">array</span><span class="o">-&gt;</span><span class="na">flatten</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]);</span>
<span class="c1">// output: [1, 2, 3, 4]
</span></code></pre><h2 id='has-duplicates'>Has duplicates</h2>
<p>Checks a flat list for duplicate values. Returns <em>true</em> if duplicate values exists and <em>false</em> if values are all unique.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">array</span><span class="o">-&gt;</span><span class="na">has_duplicates</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]));</span>
<span class="c1">// output: true
</span></code></pre><h1 id='cookie-helper'>Cookie Helper</h1>
<p>The Cookie Helper file contains functions that assist in working with cookies.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'cookie'</span><span class="p">);</span>
</code></pre><h2 id='set-cookie'>Set cookie</h2>
<p>Accepts seven parameters, or you can submit an associative array in the first parameter containing all the values.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   mixed
 * @param   string  the value of the cookie
 * @param   int the number of seconds until expiration
 * @param   string  the cookie domain.  Usually:  .yourdomain.com
 * @param   string  the cookie path
 * @param   string  the cookie prefix
 * @param   bool    true makes the cookie secure
 * @param   bool    true makes the cookie accessible via http(s) only (no javascript)
 *
 * @return  void
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cookie</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">'user'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</code></pre><h2 id='get-cookie'>Get cookie</h2>
<p>Fetch an item from the COOKIE array</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   string
 * @param   bool
 *
 * @return  mixed
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cookie</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'user'</span><span class="p">);</span>
<span class="c1">// If not exists will return false
// Else will return '2'
</span></code></pre><h2 id='delete-cookie'>Delete cookie</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   mixed
 * @param   string  the cookie domain. Usually: .yourdomain.com
 * @param   string  the cookie path
 * @param   string  the cookie prefix
 *
 * @return  void
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cookie</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'user'</span><span class="p">);</span>
<span class="c1">// Will return void
</span></code></pre><h1 id='directory-helper'>Directory Helper</h1>
<p>The Directory Helper file contains functions that assist in working with directories.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'directory'</span><span class="p">);</span>
</code></pre><h2 id='map-directory'>Map directory</h2>
<p>Reads the specified directory and builds an array representation of it. Sub-folders contained with the directory will be mapped as well.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   string  $source_dir     Path to source
 * @param   int $directory_depth    Depth of directories to traverse
 *                      (0 = fully recursive, 1 = current dir, etc)
 * @param   bool    $hidden         Whether to show hidden files
 * @return  mixed array|false
*/</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">directory</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span><span class="o">.</span> <span class="s1">'uploads/'</span><span class="p">));</span>
</code></pre><h2 id='create-directory'>Create directory</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   string  $direction      Path to source
 * @param   int     $mode           Mode of the folder
 * @param   void    $recursive      Recursive mode
 *
 * @return  void
*/</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">directory</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span><span class="o">.</span> <span class="s1">'uploads/'</span><span class="p">,</span> <span class="mo">0777</span><span class="p">,</span> <span class="kc">false</span><span class="p">));</span>
</code></pre><h2 id='delete-directoru'>Delete directoru</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   string  $direction      Path to source
 *
 * @return  void
*/</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">directory</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span><span class="o">.</span> <span class="s1">'uploads/'</span><span class="p">);</span>
</code></pre><h1 id='download-helper'>Download helper</h1>
<p>The Download Helper lets you download data to your desktop.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'download'</span><span class="p">);</span>
</code></pre><h2 id='download-file'>Download file</h2>
<p>Generates headers that force a download to happen</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   mixed   filename (or an array of local file path =&gt; destination filename)
 * @param   mixed   the data to be downloaded
 * @param   bool    whether to try and send the actual file MIME type
 *
 * @return  void
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">download</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">.</span> <span class="s1">'json'</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">'test.json'</span><span class="p">);</span>
</code></pre><h1 id='html-helper'>HTML Helper</h1>
<p>The HTML Helper file contains functions that assist in working with HTML.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'html'</span><span class="p">);</span>
</code></pre><h2 id='embed-string'>Embed string</h2>
<p>Parse text to find url&#39;s for embed enabled services like: youtube.com, blip.tv, vimeo.com, dailymotion.com, flickr.com, smugmug.com, hulu.com, revision3.com, wordpress.tv, funnyordie.com, soundcloud.com, slideshare.net and instagram.com and embed elements automatically.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param  string $string
 * @param  string $width default: 560
 * @param  string $height default: 315
 *
 * @return string
*/</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">embed</span><span class="p">(</span><span class="s1">'https://www.youtube.com/watch?v=OK7tWZdO0Ys'</span><span class="p">);</span>
<span class="c1">// output: &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/OK7tWZdO0Ys?feature=oembed" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen&gt;&lt;/iframe&gt;
</span></code></pre><h2 id='create-link-tag'>Create link tag</h2>
<p>Lets you create HTML &#x3C;a /&#x3E; tags. This is useful for stylesheet links, as well as other links.</p>
<h2 id='validate-email-address'>Validate email address</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">validate_email</span><span class="p">(</span><span class="s1">'test@mysite.com'</span><span class="p">));</span>
<span class="c1">// output void
</span></code></pre><h2 id='generate-qr-code'>Generate QR code</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
* @param  string  $string
* @param  integer $width default: 150
* @param  integer $height default: 150
* @param  array $attributes
*/</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">get_qr_code</span><span class="p">(</span><span class="s1">'my string to qr code'</span><span class="p">);</span>
<span class="c1">// output: &lt;img src="http://chart.apis.google.com/chart?chs=150x150&amp;cht=qr&amp;chl=my+string+to+qr+code" width="150" height="150"  /&gt;
</span></code></pre><h2 id='heading'>Heading</h2>
<p>Generates an HTML heading tag</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   string  content
 * @param   int heading level
 * @param   string
 *
 * @return  string
*/</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">heading</span><span class="p">(</span><span class="s1">'My heading'</span><span class="p">,</span> <span class="s1">'1'</span><span class="p">,</span> <span class="s1">'class="my_head"'</span><span class="p">);</span>
<span class="c1">// output: &lt;h1 class='my_head'&gt;My heading&lt;/h1&gt;
</span></code></pre><h2 id='image'>Image</h2>
<p>Generates an &#x3C;img /&#x3E; element</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   mixed $src
 * @param   mixed $attributes
 *
 * @return  string
*/</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">img</span><span class="p">(</span><span class="s1">'https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35151329_2086731074928935_8159052263000637440_o.jpg?_nc_cat=0&amp;oh=46fd588d04581c56e2892ab6e7dbadba&amp;oe=5BAE3343'</span><span class="p">,</span> <span class="s1">'class="my_image"'</span><span class="p">);</span>
<span class="c1">// output: &lt;img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35151329_2086731074928935_8159052263000637440_o.jpg?_nc_cat=0&amp;oh=46fd588d04581c56e2892ab6e7dbadba&amp;oe=5BAE3343" alt="" class="my_image" /&gt;
</span></code></pre><h2 id='ul'>UL</h2>
<p>Generates an &#x3C;ul /&#x3E; element</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$list</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'red'</span><span class="p">,</span>
        <span class="s1">'blue'</span><span class="p">,</span>
        <span class="s1">'green'</span><span class="p">,</span>
        <span class="s1">'yellow'</span>
<span class="p">);</span>

<span class="nv">$attributes</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'class'</span> <span class="o">=&gt;</span> <span class="s1">'boldlist'</span><span class="p">,</span>
        <span class="s1">'id'</span>    <span class="o">=&gt;</span> <span class="s1">'mylist'</span>
<span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">ul</span><span class="p">(</span><span class="nv">$list</span><span class="p">,</span> <span class="nv">$attributes</span><span class="p">);</span>
<span class="c1">// output: &lt;ul class="boldlist" id="mylist"&gt;
//  &lt;li&gt;red&lt;/li&gt;
//  &lt;li&gt;blue&lt;/li&gt;
//  &lt;li&gt;green&lt;/li&gt;
//  &lt;li&gt;yellow&lt;/li&gt;
//&lt;/ul&gt;
</span></code></pre><h2 id='ol'>OL</h2>
<p>Generates an &#x3C;ol /&#x3E; element</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$list</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'red'</span><span class="p">,</span>
        <span class="s1">'blue'</span><span class="p">,</span>
        <span class="s1">'green'</span><span class="p">,</span>
        <span class="s1">'yellow'</span>
<span class="p">);</span>

<span class="nv">$attributes</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'class'</span> <span class="o">=&gt;</span> <span class="s1">'boldlist'</span><span class="p">,</span>
        <span class="s1">'id'</span>    <span class="o">=&gt;</span> <span class="s1">'mylist'</span>
<span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">ol</span><span class="p">(</span><span class="nv">$list</span><span class="p">,</span> <span class="nv">$attributes</span><span class="p">);</span>
<span class="c1">// output: &lt;ol class="boldlist" id="mylist"&gt;
//  &lt;li&gt;red&lt;/li&gt;
//  &lt;li&gt;blue&lt;/li&gt;
//  &lt;li&gt;green&lt;/li&gt;
//  &lt;li&gt;yellow&lt;/li&gt;
//&lt;/ol&gt;
</span></code></pre><h1 id='security-helper'>Security helper</h1>
<p>The Security Helper file contains security related functions.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'security'</span><span class="p">);</span>
</code></pre><h2 id='create-an-id'>Create an id</h2>
<p>Permits you to create one way hashes suitable for encrypting passwords.
You can set md5 TRUE.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">security</span><span class="o">-&gt;</span><span class="na">create_id</span><span class="p">();</span>

<span class="c1">// OR
// To set MD5 string
</span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">security</span><span class="o">-&gt;</span><span class="na">create_id</span><span class="p">(</span><span class="k">TRUE</span><span class="p">);</span>
</code></pre><h2 id='crypt-and-decrypt-string'>Crypt and decrypt string</h2>
<p>To use this method, you need to set in <em>encrypt.settings.php</em> about encrypt method, secret key and secret iv.
Crypt and decrypt something with sha256 and secret strings.</p>

<blockquote>
<p>You can encrypt by default like this:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">security</span><span class="o">-&gt;</span><span class="na">cryptit</span><span class="p">(</span><span class="s1">'123456'</span><span class="p">);</span>
<span class="c1">// output: TDRncE5lN3I2UE1TZjhzcThuR0RUZz09
</span></code></pre>
<blockquote>
<p>And decrypt that string:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">security</span><span class="o">-&gt;</span><span class="na">decryptit</span><span class="p">(</span><span class="s1">'TDRncE5lN3I2UE1TZjhzcThuR0RUZz09'</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>
<span class="c1">// output: 123456
</span></code></pre><h2 id='get-ip'>Get ip</h2>
<p>Returns the IP address of the client.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">security</span><span class="o">-&gt;</span><span class="na">get_ip</span><span class="p">();</span>
<span class="c1">// output: 158.65.359.86
</span></code></pre><h2 id='get-location'>Get Location</h2>
<p>Get client location</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">security</span><span class="o">-&gt;</span><span class="na">get_location</span><span class="p">();</span>
<span class="c1">// output: Monterrey, MX
</span></code></pre><h1 id='string-helper'>String helper</h1>
<p>The String Helper file contains functions that assist in working with strings.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'string'</span><span class="p">);</span>
</code></pre><h2 id='random-string'>Random string</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   string  type of random string.  basic, alpha, alnum, numeric, nozero, unique, md5, encrypt and sha1
 * @param   int number of characters
 *
 * @return  string
*/</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">string</span><span class="o">-&gt;</span><span class="na">random_string</span><span class="p">(</span><span class="s1">'alnum'</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
<span class="c1">// output: xg9tCHZb
</span></code></pre><h2 id='reduce-multiples'>Reduce multiples</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   string
 * @param   string  the character you wish to reduce
 * @param   bool    TRUE/FALSE - whether to trim the character from the beginning/end
 *
 * @return  string
*/</span>
<span class="nv">$string</span> <span class="o">=</span> <span class="s1">'Fred, Bill,, Joe, Jimmy'</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">string</span><span class="o">-&gt;</span><span class="na">reduce_multiples</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="s1">','</span><span class="p">);</span>
<span class="c1">// output: Fred, Bill, Joe, Jimmy
</span></code></pre><h2 id='create-string'>Create string</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">string</span><span class="o">-&gt;</span><span class="na">create_string</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="c1">// output: xg9tCHZb
</span></code></pre><h2 id='reduce-double-slashes'>Reduce double slashes</h2>
<p>Converts double slashes in a string to a single slash, except those found in http://</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$str</span> <span class="o">=</span> <span class="s1">'http://www.some-site.com//index.php'</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">string</span><span class="o">-&gt;</span><span class="na">reduce_double_slashes</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="c1">// output: http://www.some-site.com/index.php
</span></code></pre><h2 id='number-to-word'>Number to word</h2>
<p>Convert number to word representation</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">string</span><span class="o">-&gt;</span><span class="na">number_to_word</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="c1">// output: eight
</span></code></pre><h2 id='starts-with'>Starts with</h2>
<p>Check if a string is starts with a given substring.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">string</span><span class="o">-&gt;</span><span class="na">starts_with</span><span class="p">(</span><span class="s1">'Hi, this is me'</span><span class="p">,</span> <span class="s1">'Hi'</span><span class="p">));</span>
<span class="c1">// output: true
</span></code></pre><h2 id='ends-with'>Ends with</h2>
<p>Check if a string is ends with a given substring.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">string</span><span class="o">-&gt;</span><span class="na">ends_with</span><span class="p">(</span><span class="s1">'Hi, this is me'</span><span class="p">,</span> <span class="s1">'me'</span><span class="p">));</span>
<span class="c1">// output: true
</span></code></pre><h2 id='first-string-between'>First string between</h2>
<p>Returns the first string there is between the strings from the parameter start and end.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
* @param string $string
* @param string $start
* @param string $end
*
* @return string
*/</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">string</span><span class="o">-&gt;</span><span class="na">first_string_between</span><span class="p">(</span><span class="s1">'This is a [custom] string'</span><span class="p">,</span> <span class="s1">'['</span><span class="p">,</span> <span class="s1">']'</span><span class="p">);</span>
<span class="c1">// output: custom
</span></code></pre><h1 id='text-helper'>Text helper</h1>
<p>The Text Helper file contains functions that assist in working with text.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'text'</span><span class="p">);</span>
</code></pre><h2 id='cut-string'>Cut string</h2>
<p>Truncate String with or without ellipsis</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param  string  $string
 * @param  int  $max_length
 * @param  boolean $add_ellipsis
 * @param  boolean $word_safe
 *
 * @return string
*/</span>

<span class="nv">$string</span> <span class="o">=</span> <span class="s2">"Here is a nice text string consisting of eleven words."</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">text</span><span class="o">-&gt;</span><span class="na">cut_string</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="c1">//output: Here is a nice text string
</span></code></pre><h2 id='word-censor'>Word censor</h2>
<p>Supply a string and an array of disallowed words and any matched words will be converted to #### or to the replacement word you&#39;ve submitted.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param   string  the text string
 * @param   string  the array of censored words
 * @param   string  the optional replacement value
 *
 * @return  string
*/</span>
<span class="nv">$string</span> <span class="o">=</span> <span class="s1">'Hi Sophie, how do shucks are you?'</span><span class="p">;</span>
<span class="nv">$disallowed</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'darn'</span><span class="p">,</span> <span class="s1">'shucks'</span><span class="p">,</span> <span class="s1">'golly'</span><span class="p">,</span> <span class="s1">'phooey'</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">text</span><span class="o">-&gt;</span><span class="na">word_censor</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="nv">$disallowed</span><span class="p">,</span> <span class="s1">'Beep!'</span><span class="p">);</span>
<span class="c1">// Output: Hi Sophie, how do Beep! are you?
</span></code></pre><h1 id='url-helper'>URL Helper</h1>
<p>The URL Helper file contains functions that assist in working with URLs.</p>

<blockquote>
<p>First of all you need to load the helper file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">'url'</span><span class="p">);</span>
</code></pre><h2 id='current-url'>Current URL</h2>
<p>Returns the full URL (including segments) of the page being currently viewed.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">url</span><span class="o">-&gt;</span><span class="na">get_current_URL</span><span class="p">();</span>
<span class="c1">// Output: https://yoursite.com/contact/
</span></code></pre><h2 id='is-https'>Is https</h2>
<p>Check if your site run on https</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">url</span><span class="o">-&gt;</span><span class="na">is_https</span><span class="p">());</span>
</code></pre><h2 id='is-ajax'>Is AJAX</h2>
<p>Determine if current page request type is ajax</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">url</span><span class="o">-&gt;</span><span class="na">is_ajax</span><span class="p">());</span>
</code></pre><h1 id='encryptation-class'>Encryptation Class</h1>
<p>CodeDmx has an encryptation class. Some people believe MD5 would be a safe way to encode passwords. Is a lie! MD5 is a good method to obscure non-sensitive data, because it&#39;s quite fast.</p>

<aside class="warning">The default schema is $2y$, which makes use of the new, corrected hash implementation. This can be modify in encrypt.settings.php file</aside>

<blockquote>
<p>First of all you need to load the library file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'crypt'</span><span class="p">);</span>
</code></pre><h2 id='a-simple-example'>A simple example</h2>
<blockquote>
<p>To hash the password, you only need to call one method</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$password</span> <span class="o">=</span> <span class="s1">'my_password'</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">crypt</span><span class="o">-&gt;</span><span class="na">hash_password</span><span class="p">(</span><span class="nv">$password</span><span class="p">);</span>
<span class="c1">// Something like: $2y$12$lyAb7hOusPTvEGJBVmia4OGV8nU0pFhBOvG4NZRT3P/1lA3SAMoFK
</span></code></pre>
<blockquote>
<p>To check if password against the $hashed, and this returns TRUE / FALSE</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">crypt</span><span class="o">-&gt;</span><span class="na">check_password</span><span class="p">(</span><span class="nv">$password</span><span class="p">,</span> <span class="nv">$hashed</span><span class="p">))</span>
<span class="p">{</span>
  <span class="c1">// continue
</span><span class="p">}</span>
</code></pre><h2 id='work-factor'>Work factor</h2>
<p>To increase your hash security this method accepts the optional parameter $work_factor. This defines the number of rounds. With each round the creation time doubles, so the system is exponentially.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$work_factor</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
<span class="nv">$password</span> <span class="o">=</span> <span class="s1">'my_password'</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">crypt</span><span class="o">-&gt;</span><span class="na">hash_password</span><span class="p">(</span><span class="nv">$password</span><span class="p">,</span> <span class="nv">$work_factor</span><span class="p">);</span>
</code></pre><h2 id='change-the-schema'>Change the schema</h2>
<p>To alter the default scheme, change the GLOBAL variable on your config file (/application/Config/encrypt.settings.php)$GLOBALS[&#39;COD&#39;]-&gt;identifier to the next strings</p>

<p>2a - Hash wich is potentially generated with the buggy algorithm</p>

<p>2x - &quot;compatibility&quot; option the buggy Bcrypt implementation</p>

<p>2y - Hash generated with the new, corrected algorithm implementation (crypt_blowfish 1.1 and newer)</p>
<h2 id='structure'>Structure</h2>
<p>$2a$12$Some22CharacterSaltXXO6NC3ydPIrirIzk1NdnTz0L/aCaHnlBa</p>

<p>$2a$ tells PHP to use which Blowfish scheme (Bcrypt is based on Blowfish)</p>

<p>12$ is the number f iterations the hashing mechanism uses</p>

<p>Some22CharacterSaltXX0 is a random salt (by OpenSSL)</p>

<blockquote>
<p>Diagram:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="err">$</span><span class="mi">2</span><span class="nx">a</span><span class="err">$</span><span class="mi">12</span><span class="nv">$Some22CharacterSaltXXO6NC3ydPIrirIzk1NdnTz0L</span><span class="o">/</span><span class="nx">aCaHnlBa</span>
<span class="nx">\___________________________</span><span class="o">/</span><span class="nx">\_____________________________</span><span class="o">/</span>
  <span class="nx">\</span>                            <span class="nx">\</span>
   <span class="nx">\</span>                            <span class="nx">\</span> <span class="nx">Actual</span> <span class="nx">Hash</span> <span class="p">(</span><span class="mi">31</span> <span class="nx">chars</span><span class="p">)</span>
    <span class="nx">\</span>
     <span class="nx">\</span>  <span class="err">$</span><span class="mi">2</span><span class="nx">a</span><span class="err">$</span>   <span class="mi">12</span><span class="err">$</span>   <span class="nx">Some22CharacterSaltXXO</span>
        <span class="nx">\__</span><span class="o">/</span>    <span class="nx">\</span>    <span class="nx">\____________________</span><span class="o">/</span>
          <span class="nx">\</span>      <span class="nx">\</span>              <span class="nx">\</span>
           <span class="nx">\</span>      <span class="nx">\</span>              <span class="nx">\</span> <span class="nx">Salt</span> <span class="p">(</span><span class="mi">22</span> <span class="nx">chars</span><span class="p">)</span>
            <span class="nx">\</span>      <span class="nx">\</span>
             <span class="nx">\</span>      <span class="nx">\</span> <span class="nx">Number</span> <span class="nx">of</span> <span class="nx">Rounds</span> <span class="p">(</span><span class="nx">work</span> <span class="nx">factor</span><span class="p">)</span>
              <span class="nx">\</span>
               <span class="nx">\</span> <span class="nx">Hash</span> <span class="nx">Header</span>
</code></pre><h1 id='cache-class'>Cache Class</h1>
<p>A light, simple but powerful PHP5 Cache Class which uses the filesystem for caching.</p>

<p>Basically the caching class stores its data in files in the JSON format. These files will be created if you store data under a Cache name.</p>

<p>If you set a new Cache name with set_cache(), a new cache file will be generated. The Cache will store all further data in the new file. The Setter method allows you to switch between the different Cache files.</p>

<blockquote>
<p>First of all you need to load the library file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'cache'</span><span class="p">);</span>
</code></pre><h2 id='set-cache'>Set cache</h2>
<p><em>set_cache($name)</em></p>

<p>If you want to switch to another Cache or create a new one, then use this method to set a new Cache name.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">set_cache</span><span class="p">(</span><span class="s1">'newcache'</span><span class="p">);</span>
</code></pre><h2 id='store'>Store</h2>
<p><em>store($key, $data, &lt;$expiration&gt;)</em></p>

<ul>
<li>The key value defines a tag with which the cached data will be associated.</li>
<li>The data value can be any type of object (will be serialized).</li>
<li>The expiration value allows you to define an expiration time.</li>
</ul>

<p>To change data you can overwrite it by using the same key identifier.
Beside the data, the Cache will also store a timestamp.</p>

<blockquote>
<p>Store a string</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">store</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span> <span class="s1">'Hello World!'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Store an array</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">store</span><span class="p">(</span><span class="s1">'movies'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Movies on TV'</span><span class="p">,</span>
    <span class="s1">'action'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'Tropic Thunder'</span><span class="p">,</span>
        <span class="s1">'Bad Boys'</span><span class="p">,</span>
        <span class="s1">'Crank'</span>
    <span class="p">)</span>
<span class="p">));</span>
</code></pre><h2 id='get-cache-elements'>Get cache elements</h2>
<p><em>retrieve($key, &lt;$timestamp&gt;)</em></p>

<p>Get particular cached data by its key.
To retrieve the timestamp of a key, set the second parameter to true.</p>

<p><em>retrieve_all(&lt;$meta&gt;)</em></p>

<p>This allows you retrieve all the cached data at once. You get the meta data by setting the $meta argument to true.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'moviews'</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>

<span class="nv">$description</span> <span class="o">=</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'description'</span><span class="p">];</span>
</code></pre><h2 id='switch-back'>Switch back</h2>
<p>Switch back to the first cache</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">set_cache</span><span class="p">(</span><span class="s1">'mycache'</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">store</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">,</span> <span class="s1">'Hello everybody out there!'</span><span class="p">);</span>
</code></pre><h2 id='erase-entry'>Erase entry</h2>
<p>For erasing cached data are these three methods available:</p>

<ul>
<li>erase($key) Erases a single entry by its key.</li>
<li>erase_all() Erases all entries from the Cache file.</li>
<li>erase_expired() Erases all expired entries.</li>
</ul>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">erase</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">);</span>

<span class="c1">// OR
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">erase_all</span><span class="p">();</span>

<span class="c1">// OR
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span><span class="o">-&gt;</span><span class="na">erase_expired</span><span class="p">();</span>
</code></pre><h2 id='check-cached-data'>Check cached data</h2>
<p><em>is_cached($key)</em></p>

<p>Check whether any data is associated with the given key.
Returns true or false.</p>
<h2 id='set-cache-path'>Set Cache path</h2>
<p><em>set_cache_path($path)</em></p>

<p>The path to the Cache folder must end with a backslash: my_path_to_the_cache_folder/</p>
<h2 id='get-cache-file-path'>Get Cache file path</h2>
<p><em>get_cache_dir()</em></p>

<p>The method returns the path to your current Cache file (the Cache name is always sh1 encoded):</p>

<p>cache/7505d64a54e061b7acd54ccd58b49dc43500b635.cache</p>
<h1 id='ftp-class'>FTP Class</h1>
<p>CodeDmx has a FTP Class, that permits files to be transferred to a remote server. By this class you can move, rename and delete files or folders.</p>

<aside class="warning">SFTP AND SSL FTP protocols are not supported.</aside>

<p>If you prefer you can store your FTP preferences in a config file in /application/Config/ftp.settings.php, and this will be used automatically.</p>

<blockquote>
<p>First of all you need to load class</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'ftp'</span><span class="p">);</span>

<span class="c1">//Then
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">();</span>
</code></pre><h2 id='connect-to-host'>Connect to host</h2>
<p>Connects to the FTP server. Connection preferences are set by passing an array to the function, or you can store them in the config file in /application/Config/ftp.settings.php.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">();</span>
</code></pre><h2 id='upload-a-file'>Upload a file</h2>
<p>Uploads a file to your server. You must supply the local path and the remote path, and you can optionally set the mode and permissions. Example:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/local/path/to/myfile.html'</span><span class="p">,</span> <span class="s1">'/public_html/myfile.html'</span><span class="p">);</span>
</code></pre><h3 id='parameters'>Parameters:</h3>
<table><thead>
<tr>
<th>Variable</th>
<th>Definition</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>$local_path (string)</td>
<td>Local file path</td>
<td>n/a</td>
</tr>
<tr>
<td>$remote_path (string)</td>
<td>Remote file path</td>
<td>n/a</td>
</tr>
<tr>
<td>$mode (string)</td>
<td>FTP mode (options are: ‘auto’, ‘binary’, ‘ascii’)</td>
<td>&#39;auto&#39;</td>
</tr>
<tr>
<td>$permissions (int)</td>
<td>File permissions (octal)</td>
<td>&#39;0777&#39;</td>
</tr>
</tbody></table>
<h2 id='download-a-file'>Download a file</h2>
<p>Downloads a file from your server. You must supply the remote path and the local path, and you can optionally set the mode. Example:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">download</span><span class="p">(</span><span class="s1">'/public_html/myfile.html'</span><span class="p">,</span> <span class="s1">'/local/path/to/myfile.html'</span><span class="p">);</span>
</code></pre><h3 id='parameters-2'>Parameters:</h3>
<table><thead>
<tr>
<th>Variable</th>
<th>Definition</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>$remote_path (string)</td>
<td>Remote file path</td>
<td>n/a</td>
</tr>
<tr>
<td>$local_path (string)</td>
<td>Local file path</td>
<td>n/a</td>
</tr>
<tr>
<td>$mode (string)</td>
<td>FTP mode (options are: ‘auto’, ‘binary’, ‘ascii’)</td>
<td>&#39;auto&#39;</td>
</tr>
</tbody></table>
<h2 id='delete-a-file'>Delete a file</h2>
<p>Supply the source path with the file name.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">delete_file</span><span class="p">(</span><span class="s1">'/public_html/joe/blog.html'</span><span class="p">);</span>
</code></pre><h2 id='delete-a-folder'>Delete a folder</h2>
<p>Supply the source path to the directory with a trailing slash.</p>

<aside class="warning">Be VERY careful with this method! It will recursively delete everything within the supplied path, including sub-folders and all files. Make absolutely sure your path is correct. Try using list() first to verify that your path is correct.</aside>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">delete_dir</span><span class="p">(</span><span class="s1">'/public_html/path/to/folder/'</span><span class="p">);</span>
</code></pre><h2 id='list-files'>List files</h2>
<p>Permits you to retrieve a list of files on your server returned as an array. You must supply the path to the desired directory.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$list</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">list</span><span class="p">(</span><span class="s1">'/public_html/'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$list</span><span class="p">);</span>
</code></pre><h2 id='create-directory'>Create directory</h2>
<p>Lets you create a directory on your server. Supply the path ending in the folder name you wish to create, with a trailing slash.</p>

<p>Permissions can be set by passing an octal value in the second parameter.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Creates a folder named "bar"
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">mkdir</span><span class="p">(</span><span class="s1">'/public_html/foo/bar/'</span><span class="p">,</span> <span class="mo">0755</span><span class="p">);</span>
</code></pre><h2 id='rename-a-file'>Rename a file</h2>
<p>Permits you to rename a file. Supply the source file name/path and the new file name/path.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Renames green.html to blue.html
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">rename</span><span class="p">(</span><span class="s1">'/public_html/foo/green.html'</span><span class="p">,</span> <span class="s1">'/public_html/foo/blue.html'</span><span class="p">);</span>
</code></pre><h2 id='move-a-file'>Move a file</h2>
<p>Lets you move a file. Supply the source and destination paths:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Moves blog.html from "joe" to "fred"
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ftp</span><span class="o">-&gt;</span><span class="na">move</span><span class="p">(</span><span class="s1">'/public_html/joe/blog.html'</span><span class="p">,</span> <span class="s1">'/public_html/fred/blog.html'</span><span class="p">);</span>
</code></pre><h1 id='image-class'>Image Class</h1>
<p>CodeDmx has a class to manipulate images in PHP as simple as possible.
With this class, we can do:</p>

<ol>
<li>Resize images (free resize, resize to width, resize to height, resize to fit)</li>
<li>Crop images</li>
<li>Flip / rotate / adjust orientation</li>
<li>Adjust brightness and contrast</li>
<li>Desaturate, colorize, pixelate, blur, etc</li>
<li>Overlay one image onto another (Watermarking)</li>
<li>Add text using a font of your choice</li>
<li>Convert between GIF, JPG, and PNG formats</li>
</ol>
<h2 id='first-of-all-a-simple-example'>First of all: A simple example</h2>
<p>In the first line we try to load the image.
In the second line we shrink it to fit within a 300x250 box, and save it to another path.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'image'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">image</span><span class="o">-&gt;</span><span class="na">from_file</span><span class="p">(</span><span class="s1">'image.jpg'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">best_fit</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">to_file</span><span class="p">(</span><span class="s1">'/path/to/new/image.png'</span><span class="p">,</span> <span class="s1">'image/png'</span><span class="p">);</span>
</code></pre><h2 id='saving'>Saving</h2>
<p>It&#39;s necessary to save the image after you manipulate it.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Or you can specify a new filename
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">image</span><span class="o">-&gt;</span><span class="na">to_file</span><span class="p">(</span><span class="s1">'new-image.jpg'</span><span class="p">,</span> <span class="s1">'image/jpeg'</span><span class="p">);</span>

<span class="c1">// Also, you can specify quality as a second parameter in percents within range 0 - 100
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">image</span><span class="o">-&gt;</span><span class="na">to_file</span><span class="p">(</span><span class="s1">'new-image.jpg'</span><span class="p">,</span> <span class="s1">'image/jpeg'</span><span class="p">,</span> <span class="mi">90</span><span class="p">);</span>
</code></pre><h2 id='converting-between-formats'>Converting between Formats</h2>
<p>When you try to save it, you can determined by the file extension.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">image</span><span class="o">-&gt;</span><span class="na">from_file</span><span class="p">(</span><span class="s1">'/path/to/image.jpg'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">to_file</span><span class="p">(</span><span class="s1">'/path/to/new/image.png'</span><span class="p">,</span> <span class="s1">'image/png'</span><span class="p">);</span>
</code></pre><h2 id='method-chaining'>Method Chaining</h2>
<p>This class supports method chaining, so you can make multiple changes and save the resulting image with just one line of code:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">image</span><span class="o">-&gt;</span><span class="na">from_file</span><span class="p">(</span><span class="s1">'/path/to/image.jpg'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">flip</span><span class="p">(</span><span class="s1">'x'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">rotate</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">best_fit</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">desaturate</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">invert</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">to_file</span><span class="p">(</span><span class="s1">'/path/to/new-image.jpg'</span><span class="p">,</span> <span class="s1">'image/jpeg'</span><span class="p">);</span>
<span class="c1">// You can chain all of the methods below as well methods above.
</span></code></pre><h2 id='loaders'>Loaders</h2><h3 id='code-from_data_uri-uri-code'><code>from_data_uri($uri)</code></h3>
<ul>
<li><code>$uri</code>* (string) - A data URI.</li>
</ul>
<h3 id='code-from_file-file-code'><code>from_file($file)</code></h3>
<p>Loads an image from a file.</p>

<ul>
<li><code>$file</code>* (string) - The image file to load.</li>
</ul>
<h3 id='code-from_new-width-height-color-code'><code>from_new($width, $height, $color)</code></h3>
<p>Creates a new image.</p>

<ul>
<li><code>$width</code>* (int) - The width of the image.</li>
<li><code>$height</code>* (int) - The height of the image.</li>
<li><code>$color</code> (string|array) - Optional fill color for the new image (default &#39;transparent&#39;).</li>
</ul>
<h3 id='code-from_string-string-code'><code>from_string($string)</code></h3>
<p>Creates a new image from a string.</p>

<ul>
<li><code>$string</code>* (string) - The raw image data as a string. Example:
<code>
$string = file_get_contents(&#39;image.jpg&#39;);
</code></li>
</ul>
<h2 id='savers'>Savers</h2><h3 id='code-to_data_uri-mime_type-quality-code'><code>to_data_uri($mime_type, $quality)</code></h3>
<p>Generates a data URI.</p>

<ul>
<li><code>$mime_type</code> (string) - The image format to output as a mime type (defaults to the original mime type).</li>
<li><code>$quality</code> (int) - Image quality as a percentage (default 100).</li>
</ul>

<p>Returns a string containing a data URI.</p>
<h3 id='code-to_download-filename-mime_type-quality-code'><code>to_download($filename, $mime_type, $quality)</code></h3>
<p>Forces the image to be downloaded to the clients machine. Must be called before any output is sent to the screen.</p>

<ul>
<li><code>$filename</code>* (string) - The filename (without path) to send to the client (e.g. &#39;image.jpeg&#39;).</li>
<li><code>$mime_type</code> (string) - The image format to output as a mime type (defaults to the original mime type).</li>
<li><code>$quality</code> (int) - Image quality as a percentage (default 100).</li>
</ul>
<h3 id='code-to_file-file-mime_type-quality-code'><code>to_file($file, $mime_type, $quality)</code></h3>
<p>Writes the image to a file.</p>

<ul>
<li><code>$mime_type</code> (string) - The image format to output as a mime type (defaults to the original mime type).</li>
<li><code>$quality</code> (int) - Image quality as a percentage (default 100).</li>
</ul>
<h3 id='code-to_screen-mime_type-quality-code'><code>to_screen($mime_type, $quality)</code></h3>
<p>Outputs the image to the screen. Must be called before any output is sent to the screen.</p>

<ul>
<li><code>$mime_type</code> (string) - The image format to output as a mime type (defaults to the original mime type).</li>
<li><code>$quality</code> (int) - Image quality as a percentage (default 100).</li>
</ul>
<h3 id='code-to_string-mime_type-quality-code'><code>to_string($mime_type, $quality)</code></h3>
<p>Generates an image string.</p>

<ul>
<li><code>$mime_type</code> (string) - The image format to output as a mime type (defaults to the original mime type).</li>
<li><code>$quality</code> (int) - Image quality as a percentage (default 100).</li>
</ul>
<h2 id='utilities'>Utilities</h2><h3 id='code-get_aspect_ratio-code'><code>get_aspect_ratio()</code></h3>
<p>Gets the image&#39;s current aspect ratio.</p>

<p>Returns the aspect ratio as a float.</p>
<h3 id='code-get_exif-code'><code>get_exif()</code></h3>
<p>Gets the image&#39;s exif data.</p>

<p>Returns an array of exif data or null if no data is available.</p>
<h3 id='code-get_height-code'><code>get_height()</code></h3>
<p>Gets the image&#39;s current height.</p>

<p>Returns the height as an integer.</p>
<h3 id='code-get_mime_type-code'><code>get_mime_type()</code></h3>
<p>Gets the mime type of the loaded image.</p>

<p>Returns a mime type string.</p>
<h3 id='code-get_orientation-code'><code>get_orientation()</code></h3>
<p>Gets the image&#39;s current orientation.</p>

<p>Returns a string: &#39;landscape&#39;, &#39;portrait&#39;, or &#39;square&#39;</p>
<h3 id='code-get_width-code'><code>get_width()</code></h3>
<p>Gets the image&#39;s current width.</p>

<p>Returns the width as an integer.</p>
<h2 id='manipulation'>Manipulation</h2><h3 id='code-auto_orient-code'><code>auto_orient()</code></h3>
<p>Rotates an image so the orientation will be correct based on its exif data. It is safe to call this method on images that don&#39;t have exif data (no changes will be made).</p>
<h3 id='code-best_fit-max_width-max_height-code'><code>best_fit($max_width, $max_height)</code></h3>
<p>Proportionally resize the image to fit inside a specific width and height.</p>

<ul>
<li><code>$max_width</code>* (int) - The maximum width the image can be.</li>
<li><code>$max_height</code>* (int) - The maximum height the image can be.</li>
</ul>
<h3 id='code-crop-x1-y1-x2-y2-code'><code>crop($x1, $y1, $x2, $y2)</code></h3>
<p>Crop the image.</p>

<ul>
<li>$x1 - Top left x coordinate.</li>
<li>$y1 - Top left y coordinate.</li>
<li>$x2 - Bottom right x coordinate.</li>
<li>$y2 - Bottom right x coordinate.</li>
</ul>
<h3 id='code-flip-direction-code'><code>flip($direction)</code></h3>
<p>Flip the image horizontally or vertically.</p>

<ul>
<li><code>$direction</code>* (string) - The direction to flip: x|y|both</li>
</ul>
<h3 id='code-max_colors-max-dither-code'><code>max_colors($max, $dither)</code></h3>
<p>Reduces the image to a maximum number of colors.</p>

<ul>
<li><code>$max</code>* (int) - The maximum number of colors to use.</li>
<li><code>$dither</code> (bool) - Whether or not to use a dithering effect (default true).</li>
</ul>
<h3 id='code-overlay-overlay-anchor-opacity-x_offset-y_offset-code'><code>overlay($overlay, $anchor, $opacity, $x_offset, $y_offset)</code></h3>
<p>Place an image on top of the current image.</p>

<ul>
<li><code>$overlay</code>* (string|SimpleImage) - The image to overlay. This can be a filename, a data URI, or a SimpleImage object.</li>
<li><code>$anchor</code> (string) - The anchor point: &#39;center&#39;, &#39;top&#39;, &#39;bottom&#39;, &#39;left&#39;, &#39;right&#39;, &#39;top left&#39;, &#39;top right&#39;, &#39;bottom left&#39;, &#39;bottom right&#39; (default &#39;center&#39;)</li>
<li><code>$opacity</code> (float) - The opacity level of the overlay 0-1 (default 1).</li>
<li><code>$x_offset</code> (int) - Horizontal offset in pixels (default 0).</li>
<li><code>$y_offset</code> (int) - Vertical offset in pixels (default 0).</li>
</ul>
<h3 id='code-resize-width-height-code'><code>resize($width, $height)</code></h3>
<p>Resize an image to the specified dimensions. If only one dimension is specified, the image will be resized proportionally.</p>

<ul>
<li><code>$width</code>* (int) - The new image width.</li>
<li><code>$height</code>* (int) - The new image height.</li>
</ul>
<h3 id='code-rotate-angle-background_color-code'><code>rotate($angle, $background_color)</code></h3>
<p>Rotates the image.</p>

<ul>
<li><code>$angle</code>* (int) - The angle of rotation (-360 - 360).</li>
<li><code>$background_color</code> (string|array) - The background color to use for the uncovered zone area after rotation (default &#39;transparent&#39;).</li>
</ul>
<h3 id='code-text-text-options-amp-boundary-code'><code>text($text, $options, &amp;$boundary)</code></h3>
<p>Adds text to the image.</p>

<ul>
<li><code>$text*</code> (string) - The desired text.</li>
<li><code>$options</code> (array) - An array of options.

<ul>
<li><code>font_file</code>* (string) - The TrueType (or compatible) font file to use.</li>
<li><code>size</code> (int) - The size of the font in pixels (default 12).</li>
<li><code>color</code> (string|array) - The text color (default black).</li>
<li><code>anchor</code> (string) - The anchor point: &#39;center&#39;, &#39;top&#39;, &#39;bottom&#39;, &#39;left&#39;, &#39;right&#39;,
&#39;top left&#39;, &#39;top right&#39;, &#39;bottom left&#39;, &#39;bottom right&#39; (default &#39;center&#39;).</li>
<li><code>x_offset</code> (int) - The horizontal offset in pixels (default 0).</li>
<li><code>y_offset</code> (int) - The vertical offset in pixels (default 0).</li>
<li><code>shadow</code> (array) - Text shadow params.</li>
<li><code>x</code>* (int) - Horizontal offset in pixels.</li>
<li><code>y</code>* (int) - Vertical offset in pixels.</li>
<li><code>color</code>* (string|array) - The text shadow color.</li>
</ul></li>
<li><code>$boundary</code> (array) - If passed, this variable will contain an array with coordinates that
surround the text: [x1, y1, x2, y2, width, height]. This can be used for calculating the
text&#39;s position after it gets added to the image.</li>
</ul>
<h3 id='code-thumbnail-width-height-anchor-code'><code>thumbnail($width, $height, $anchor)</code></h3>
<p>Creates a thumbnail image. This function attempts to get the image as close to the provided dimensions as possible, then crops the remaining overflow to force the desired size. Useful for generating thumbnail images.</p>

<ul>
<li><code>$width</code>* (int) - The thumbnail width.</li>
<li><code>$height</code>* (int) - The thumbnail height.</li>
<li><code>$anchor</code> (string) - The anchor point: &#39;center&#39;, &#39;top&#39;, &#39;bottom&#39;, &#39;left&#39;, &#39;right&#39;, &#39;top left&#39;, &#39;top right&#39;, &#39;bottom left&#39;, &#39;bottom right&#39; (default &#39;center&#39;).</li>
</ul>
<h2 id='drawing'>Drawing</h2><h3 id='code-arc-x-y-width-height-start-end-color-thickness-code'><code>arc($x, $y, $width, $height, $start, $end, $color, $thickness)</code></h3>
<p>Draws an arc.</p>

<ul>
<li><code>$x</code>* (int) - The x coordinate of the arc&#39;s center.</li>
<li><code>$y</code>* (int) - The y coordinate of the arc&#39;s center.</li>
<li><code>$width</code>* (int) - The width of the arc.</li>
<li><code>$height</code>* (int) - The height of the arc.</li>
<li><code>$start</code>* (int) - The start of the arc in degrees.</li>
<li><code>$end</code>* (int) - The end of the arc in degrees.</li>
<li><code>$color</code>* (string|array) - The arc color.</li>
<li><code>$thickness</code> (int|string) - Line thickness in pixels or &#39;filled&#39; (default 1).</li>
</ul>
<h3 id='code-border-color-thickness-code'><code>border($color, $thickness)</code></h3>
<p>Draws a border around the image.</p>

<ul>
<li><code>$color</code>* (string|array) - The border color.</li>
<li><code>$thickness</code> (int) - The thickness of the border (default 1).</li>
</ul>
<h3 id='code-dot-x-y-color-code'><code>dot($x, $y, $color)</code></h3>
<p>Draws a single pixel dot.</p>

<ul>
<li><code>$x</code>* (int) - The x coordinate of the dot.</li>
<li><code>$y</code>* (int) - The y coordinate of the dot.</li>
<li><code>$color</code>* (string|array) - The dot color.</li>
</ul>
<h3 id='code-ellipse-x-y-width-height-color-thickness-code'><code>ellipse($x, $y, $width, $height, $color, $thickness)</code></h3>
<p>Draws an ellipse.</p>

<ul>
<li><code>$x</code>* (int) - The x coordinate of the center.</li>
<li><code>$y</code>* (int) - The y coordinate of the center.</li>
<li><code>$width</code>* (int) - The ellipse width.</li>
<li><code>$height</code>* (int) - The ellipse height.</li>
<li><code>$color</code>* (string|array) - The ellipse color.</li>
<li><code>$thickness</code> (int|string) - Line thickness in pixels or &#39;filled&#39; (default 1).</li>
</ul>
<h3 id='code-fill-color-code'><code>fill($color)</code></h3>
<p>Fills the image with a solid color.</p>

<ul>
<li><code>$color</code> (string|array) - The fill color.</li>
</ul>
<h3 id='code-line-x1-y1-x2-y2-color-thickness-code'><code>line($x1, $y1, $x2, $y2, $color, $thickness)</code></h3>
<p>Draws a line.</p>

<ul>
<li><code>$x1</code>* (int) - The x coordinate for the first point.</li>
<li><code>$y1</code>* (int) - The y coordinate for the first point.</li>
<li><code>$x2</code>* (int) - The x coordinate for the second point.</li>
<li><code>$y2</code>* (int) - The y coordinate for the second point.</li>
<li><code>$color</code> (string|array) - The line color.</li>
<li><code>$thickness</code> (int) - The line thickness (default 1).</li>
</ul>
<h3 id='code-polygon-vertices-color-thickness-code'><code>polygon($vertices, $color, $thickness)</code></h3>
<p>Draws a polygon.</p>

<ul>
<li><code>$vertices</code>* (array) - The polygon&#39;s vertices in an array of x/y arrays. Example:
<code>
[
[&#39;x&#39; =&gt; x1, &#39;y&#39; =&gt; y1],
[&#39;x&#39; =&gt; x2, &#39;y&#39; =&gt; y2],
[&#39;x&#39; =&gt; xN, &#39;y&#39; =&gt; yN]
]
</code></li>
<li><code>$color</code>* (string|array) - The polygon color.</li>
<li><code>$thickness</code> (int|string) - Line thickness in pixels or &#39;filled&#39; (default 1).</li>
</ul>
<h3 id='code-rectangle-x1-y1-x2-y2-color-thickness-code'><code>rectangle($x1, $y1, $x2, $y2, $color, $thickness)</code></h3>
<p>Draws a rectangle.</p>

<ul>
<li><code>$x1</code>* (int) - The upper left x coordinate.</li>
<li><code>$y1</code>* (int) - The upper left y coordinate.</li>
<li><code>$x2</code>* (int) - The bottom right x coordinate.</li>
<li><code>$y2</code>* (int) - The bottom right y coordinate.</li>
<li><code>$color</code>* (string|array) - The rectangle color.</li>
<li><code>$thickness</code> (int|string) - Line thickness in pixels or &#39;filled&#39; (default 1).</li>
</ul>
<h3 id='code-rounded_rectangle-x1-y1-x2-y2-radius-color-thickness-code'><code>rounded_rectangle($x1, $y1, $x2, $y2, $radius, $color, $thickness)</code></h3>
<p>Draws a rounded rectangle.</p>

<ul>
<li><code>$x1</code>* (int) - The upper left x coordinate.</li>
<li><code>$y1</code>* (int) - The upper left y coordinate.</li>
<li><code>$x2</code>* (int) - The bottom right x coordinate.</li>
<li><code>$y2</code>* (int) - The bottom right y coordinate.</li>
<li><code>$radius</code>* (int) - The border radius in pixels.</li>
<li><code>$color</code>* (string|array) - The rectangle color.</li>
<li><code>$thickness</code> (int|string) - Line thickness in pixels or &#39;filled&#39; (default 1).</li>
</ul>
<h2 id='filters'>Filters</h2><h3 id='code-blur-type-passes-code'><code>blur($type, $passes)</code></h3>
<p>Applies the blur filter.</p>

<ul>
<li><code>$type</code> (string) - The blur algorithm to use: &#39;selective&#39;, &#39;gaussian&#39; (default &#39;gaussian&#39;).</li>
<li><code>$passes</code> (int) - The number of time to apply the filter, enhancing the effect (default 1).</li>
</ul>
<h3 id='code-brighten-percentage-code'><code>brighten($percentage)</code></h3>
<p>Applies the brightness filter to brighten the image.</p>

<ul>
<li><code>$percentage</code>* (int) - Percentage to brighten the image (0 - 100).</li>
</ul>
<h3 id='code-colorize-color-code'><code>colorize($color)</code></h3>
<p>Applies the colorize filter.</p>

<ul>
<li><code>$color</code>* (string|array) - The filter color.</li>
</ul>
<h3 id='code-contrast-percentage-code'><code>contrast($percentage)</code></h3>
<p>Applies the contrast filter.</p>

<ul>
<li><code>$percentage</code>* (int) - Percentage to adjust (-100 - 100).</li>
</ul>
<h3 id='code-darken-percentage-code'><code>darken($percentage)</code></h3>
<p>Applies the brightness filter to darken the image.</p>

<ul>
<li><code>$percentage</code>* (int) - Percentage to darken the image (0 - 100).</li>
</ul>
<h3 id='code-desaturate-code'><code>desaturate()</code></h3>
<p>Applies the desaturate (grayscale) filter.</p>
<h3 id='code-duotone-light_color-dark_color-code'><code>duotone($light_color, $dark_color)</code></h3>
<p>Applies the duotone filter to the image.</p>

<ul>
<li><code>$light_color</code>* (string|array) - The lightest color in the duotone.</li>
<li><code>$dark_color</code>* (string|array) - The darkest color in the duotone.</li>
</ul>
<h3 id='code-edge_detect-code'><code>edge_detect()</code></h3>
<p>Applies the edge detect filter.</p>
<h3 id='code-emboss-code'><code>emboss()</code></h3>
<p>Applies the emboss filter.</p>
<h3 id='code-invert-code'><code>invert()</code></h3>
<p>Inverts the image&#39;s colors.</p>
<h3 id='code-opacity-code'><code>opacity()</code></h3>
<p>Changes the image&#39;s opacity level.</p>

<ul>
<li><code>$opacity</code>* (float) - The desired opacity level (0 - 1).</li>
</ul>
<h3 id='code-pixelate-size-code'><code>pixelate($size)</code></h3>
<p>Applies the pixelate filter.</p>

<ul>
<li><code>$size</code> (int) - The size of the blocks in pixels (default 10).</li>
</ul>
<h3 id='code-sepia-code'><code>sepia()</code></h3>
<p>Simulates a sepia effect by desaturating the image and applying a sepia tone.</p>
<h3 id='code-sharpen-code'><code>sharpen()</code></h3>
<p>Sharpens the image.</p>
<h3 id='code-sketch-code'><code>sketch()</code></h3>
<p>Applies the mean remove filter to produce a sketch effect.</p>
<h2 id='color-utilities'>Color utilities</h2><h3 id='code-static-adjust_color-color-red-green-blue-alpha-code'><code>(static) adjust_color($color, $red, $green, $blue, $alpha)</code></h3>
<p>Adjusts a color by increasing/decreasing red/green/blue/alpha values independently.</p>

<ul>
<li><code>$color</code>* (string|array) - The color to adjust.</li>
<li><code>$red</code>* (int) - Red adjustment (-255 - 255).</li>
<li><code>$green</code>* (int) - Green adjustment (-255 - 255).</li>
<li><code>$blue</code>* (int) - Blue adjustment (-255 - 255).</li>
<li><code>$alpha</code>* (float) - Alpha adjustment (-1 - 1).</li>
</ul>
<h3 id='code-static-darken_color-color-amount-code'><code>(static) darken_color($color, $amount)</code></h3>
<p>Darkens a color.</p>

<ul>
<li><code>$color</code>* (string|array) - The color to darken.</li>
<li><code>$amount</code>* (int) - Amount to darken (0 - 255).</li>
</ul>
<h3 id='code-extract_colors-count-10-backgroundcolor-null-code'><code>extract_colors($count = 10, $backgroundColor = null)</code></h3>
<p>Extracts colors from an image like a human would do.™ This method requires the third-party library \League\ColorExtractor. If you&#39;re using Composer, it will be installed for you automatically.</p>

<ul>
<li><code>$count</code> (int) - The max number of colors to extract (default 5).</li>
<li><code>$backgroundColor</code> (string|array) - By default any pixel with alpha value greater than zero will be discarded. This is because transparent colors are not perceived as is. For example, fully transparent black would be seen white on a white background. So if you want to take transparency into account, you have to specify a default background color.</li>
</ul>
<h3 id='code-get_colorat-x-y-code'><code>get_colorAt($x, $y)</code></h3>
<p>Gets the RGBA value of a single pixel.</p>

<ul>
<li><code>$x</code>* (int) - The horizontal position of the pixel.</li>
<li><code>$y</code>* (int) - The vertical position of the pixel.</li>
</ul>
<h3 id='code-static-lighten_color-color-amount-code'><code>(static) lighten_color($color, $amount)</code></h3>
<p>Lightens a color.</p>

<ul>
<li><code>$color</code>* (string|array) - The color to lighten.</li>
<li><code>$amount</code>* (int) - Amount to darken (0 - 255).</li>
</ul>
<h3 id='code-static-normalize_color-color-code'><code>(static) normalize_color($color)</code></h3>
<p>Normalizes a hex or array color value to a well-formatted RGBA array.</p>

<ul>
<li><code>$color</code>* (string|array) - A CSS color name, hex string, or an array [red, green, blue, alpha].</li>
</ul>

<p>You can pipe alpha transparency through hex strings and color names. For example:</p>

<p>#fff|0.50 &lt;-- 50% white
  red|0.25 &lt;-- 25% red</p>
<h1 id='mail-class'>Mail Class</h1>
<p>CodeDmx provides a simple, chainable class for sending basic emails.</p>
<h2 id='first-of-all-a-simple-example'>First of all: A simple example</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">set_to</span><span class="p">(</span><span class="s1">'youremail@gmail.com'</span><span class="p">,</span> <span class="s1">'Your Email'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">set_subject</span><span class="p">(</span><span class="s1">'Test Message'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">set_from</span><span class="p">(</span><span class="s1">'no-reply@domain.com'</span><span class="p">,</span> <span class="s1">'Domain.com'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add_mail_header</span><span class="p">(</span><span class="s1">'Reply-To'</span><span class="p">,</span> <span class="s1">'no-reply@domain.com'</span><span class="p">,</span> <span class="s1">'Test Name'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add_generic_header</span><span class="p">(</span><span class="s1">'X-Mailer'</span><span class="p">,</span> <span class="s1">'PHP/'</span> <span class="o">.</span> <span class="nb">phpversion</span><span class="p">())</span>
            <span class="o">-&gt;</span><span class="na">add_generic_header</span><span class="p">(</span><span class="s1">'Content-type'</span><span class="p">,</span> <span class="s1">'text/html; charset="utf-8"'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">set_message</span><span class="p">(</span><span class="s1">'&lt;strong&gt;This is a test message.&lt;/strong&gt;'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">set_wrap</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="nv">$send</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="k">echo</span> <span class="p">(</span><span class="nv">$send</span><span class="p">)</span> <span class="o">?</span> <span class="s1">'Email sent successfully'</span> <span class="o">:</span> <span class="s1">'Could not send email'</span><span class="p">;</span>
</code></pre><h2 id='sending-an-attachment'>Sending an Attachment</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">set_to</span><span class="p">(</span><span class="s1">'mailtest@gmail.com'</span><span class="p">,</span> <span class="s1">'Test user'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">set_from</span><span class="p">(</span><span class="s1">'mailtest'</span><span class="p">,</span> <span class="s1">'Test user 2'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">set_subject</span><span class="p">(</span><span class="s1">'This is a test message'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add_attachment</span><span class="p">(</span><span class="s1">'test.txt'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add_attachment</span><span class="p">(</span><span class="s1">'test.txt'</span><span class="p">,</span> <span class="s1">'test_attachment.txt'</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">set_message</span><span class="p">(</span><span class="s1">'Hi there'</span><span class="p">);</span>
<span class="nv">$send</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="k">echo</span> <span class="p">(</span><span class="nv">$send</span><span class="p">)</span> <span class="o">?</span> <span class="s1">'Email sent successfully'</span> <span class="o">:</span> <span class="s1">'Could not send email'</span><span class="p">;</span>
</code></pre><h2 id='available-methods'>Available Methods</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// $email The email address to send to
// $name The name of the person to send to
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">set_to</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span>
<span class="cm">/* $this-&gt;mail-&gt;set_to('rober@google.com', 'Robert'); */</span>

<span class="c1">// Set the email subject
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">set_subject</span><span class="p">(</span><span class="nv">$subject</span><span class="p">);</span>
<span class="cm">/* $this-&gt;mail-&gt;set_subject('Test my mail of CodeDmx'); */</span>

<span class="c1">// Set the message to send
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">set_message</span><span class="p">(</span><span class="nv">$message</span><span class="p">);</span>
<span class="cm">/* $this-&gt;mail-&gt;set_message('Here is my test of mailing with the PHP Framework CodeDmx'); */</span>
<span class="cm">/* $this-&gt;mail-&gt;set_message('&lt;p&gt;Here is my test with HTML&lt;/p&gt;'); */</span>

<span class="c1">// $path The file path of the attachment
// Optional $filename The filename of the attachment when emailed
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">add_attachment</span><span class="p">(</span><span class="nv">$path</span><span class="p">,</span> <span class="nv">$filename</span> <span class="o">=</span> <span class="kc">null</span><span class="p">);</span>
<span class="cm">/* $this-&gt;mail-&gt;add_attachment('/path/to/file.txt') */</span>
<span class="cm">/* $this-&gt;mail-&gt;add_attachment('/path/to/file.txt', 'new_name_file.txt') */</span>

<span class="c1">// $email The email to send as from
// $name The name to send as from
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">set_from</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span>
<span class="cm">/* $this-&gt;mail-&gt;set_from('ruben@google.com', 'Ruben') */</span>

<span class="c1">// $header The header to add
// Optional $email The email to add
// Optional $name The name to add
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">add_mail_header</span><span class="p">(</span><span class="nv">$header</span><span class="p">,</span> <span class="nv">$email</span> <span class="o">=</span> <span class="kc">null</span><span class="p">,</span> <span class="nv">$name</span> <span class="o">=</span> <span class="kc">null</span><span class="p">);</span>
<span class="cm">/* $this-&gt;mail-&gt;add_mail_header('Reply-To', 'zuck@google.com', 'Zuck') */</span>

<span class="c1">// $header The generic header to add
// $value The value of the header
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">add_generic_header</span><span class="p">(</span><span class="nv">$header</span><span class="p">,</span> <span class="nv">$value</span><span class="p">);</span>
<span class="cm">/* $this-&gt;mail-&gt;add_generic_header('Content-type', 'text/html, charset="utf-8"') */</span>

<span class="c1">// $wrap The number of characters at which the message will wrap
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">set_wrap</span><span class="p">(</span><span class="nv">$wrap</span><span class="p">);</span>
<span class="cm">/* $this-&gt;mail-&gt;set_wrap(100); */</span>

<span class="c1">// Send to 'To: ' address
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mail</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
<span class="cm">/*
$send = $this-&gt;mail-&gt;send();
echo ($send) ? 'Email send' : 'Unable to send';
*/</span>
</code></pre><h1 id='paginator-class'>Paginator Class</h1>
<p>CodeDmx has a lightweight PHP paginator, for generating pagination controls in the style of Stack Overflow and Flickr. The &quot;first&quot; and &quot;last&quot; page links are shown inline as page numbers, and excess page numbers are replaced by ellipses.</p>

<p>These examples show how the paginator handles overflow when there are a lot of pages. They&#39;re rendered using the sample templates provided in the examples directory, which depend on Twitter Bootstrap. You can easily use your own custom HTML to render the pagination control instead.</p>

<p>Default template:</p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35229369_2087362041532505_3353137485461848064_n.jpg?_nc_cat=0&amp;oh=1f1376e9c94372900737b4eee6f641db&amp;oe=5BB22BB6" alt="Paginator" /></p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35151550_2087362051532504_5115176637876404224_o.jpg?_nc_cat=0&amp;oh=0f8cf646da7ffee3f0b6d75ac44106d8&amp;oe=5BA7424C" alt="Paginator" /></p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35294582_2087362044865838_4028467238162923520_o.jpg?_nc_cat=0&amp;oh=73ad0633e40c59d2c0396b5ea2503923&amp;oe=5BAF329A" alt="Paginator" /></p>

<p>Small template (useful for mobile interfaces):</p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35118939_2087363084865734_3141840629395357696_n.jpg?_nc_cat=0&amp;oh=a38cad332f40f23edb130e959197f793&amp;oe=5BC432DB" alt="Paginator" /></p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35239577_2087363054865737_1077832290723168256_n.jpg?_nc_cat=0&amp;oh=0b69f6a95a15b0daffe942fb528f8ed9&amp;oe=5BB60E33" alt="Paginator" /></p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35239412_2087363048199071_1706095395202924544_n.jpg?_nc_cat=0&amp;oh=cf231007266d9f977ac3f2c70a50b7ad&amp;oe=5BBD5AEF" alt="Paginator" /></p>

<p>The small template renders the page number as a select list to save space:</p>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35114579_2087363061532403_7011802941312991232_n.jpg?_nc_cat=0&amp;oh=c23bad97824a8cd15345ab6e1cbdfca4&amp;oe=5B773DCA" alt="Paginator" /></p>

<blockquote>
<p>First of all you need to load the library file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'paginator'</span><span class="p">);</span>
</code></pre><h2 id='basic-usage'>Basic usage</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$total_items</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
<span class="nv">$items_per_page</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="nv">$current_page</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="nv">$url_pattern</span> <span class="o">=</span> <span class="s1">'/foo/page/(:num)'</span><span class="p">;</span>

<span class="nv">$paginator</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_pagination</span><span class="p">(</span><span class="nv">$total_items</span><span class="p">,</span> <span class="nv">$items_per_page</span><span class="p">,</span> <span class="nv">$current_page</span><span class="p">,</span> <span class="nv">$url_pattern</span><span class="p">);</span>
<span class="cp">?&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="c">&lt;!-- The default, built-in template supports the Twitter Bootstrap pagination styles. --&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>

    <span class="cp">&lt;?php</span>
      <span class="c1">// Example of rendering the pagination control with the built-in template.
</span>      <span class="c1">// See below for information about using other templates or custom rendering.
</span>
      <span class="k">echo</span> <span class="nv">$paginator</span><span class="p">;</span>
    <span class="cp">?&gt;</span>

  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
<blockquote>
<p>This will output the following:</p>
</blockquote>

<p><img src="https://scontent.fgdl4-1.fna.fbcdn.net/v/t1.0-9/35151550_2087362051532504_5115176637876404224_o.jpg?_nc_cat=0&amp;oh=0f8cf646da7ffee3f0b6d75ac44106d8&amp;oe=5BA7424C" alt="Paginator" /></p>
<pre class="highlight php tab-php"><code><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"pagination"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/7"</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span> Previous<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/1"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"disabled"</span><span class="nt">&gt;&lt;span&gt;</span>...<span class="nt">&lt;/span&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/5"</span><span class="nt">&gt;</span>5<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/6"</span><span class="nt">&gt;</span>6<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/7"</span><span class="nt">&gt;</span>7<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/8"</span><span class="nt">&gt;</span>8<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/9"</span><span class="nt">&gt;</span>9<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/10"</span><span class="nt">&gt;</span>10<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/11"</span><span class="nt">&gt;</span>11<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/12"</span><span class="nt">&gt;</span>12<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"disabled"</span><span class="nt">&gt;&lt;span&gt;</span>...<span class="nt">&lt;/span&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/20"</span><span class="nt">&gt;</span>20<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/foo/page/9"</span><span class="nt">&gt;</span>Next <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</code></pre><h2 id='rendering-a-custom-pagination-control'>Rendering a custom pagination control</h2>
<p>Use get_pages(), get_next_url(), and get_prev_url() to render a pagination control with your own HTML. For example:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$total_items</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
<span class="nv">$items_per_page</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="nv">$current_page</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="nv">$url_pattern</span> <span class="o">=</span> <span class="s1">'/foo/page/(:num)'</span><span class="p">;</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_pagination</span><span class="p">(</span><span class="nv">$total_items</span><span class="p">,</span> <span class="nv">$items_per_page</span><span class="p">,</span> <span class="nv">$current_page</span><span class="p">,</span> <span class="nv">$url_pattern</span><span class="p">);</span>
<span class="cp">?&gt;</span>
<span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"pagination"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_prev_url</span><span class="p">())</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_prev_url</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span> Previous<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span>

    <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_pages</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$page</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$page</span><span class="p">[</span><span class="s1">'url'</span><span class="p">])</span><span class="o">:</span> <span class="cp">?&gt;</span>
            <span class="nt">&lt;li</span> <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$page</span><span class="p">[</span><span class="s1">'is_current'</span><span class="p">]</span> <span class="o">?</span> <span class="s1">'class="active"'</span> <span class="o">:</span> <span class="s1">''</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$page</span><span class="p">[</span><span class="s1">'url'</span><span class="p">];</span> <span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$page</span><span class="p">[</span><span class="s1">'num'</span><span class="p">];</span> <span class="cp">?&gt;</span><span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;/li&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">else</span><span class="o">:</span> <span class="cp">?&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"disabled"</span><span class="nt">&gt;&lt;span&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$page</span><span class="p">[</span><span class="s1">'num'</span><span class="p">];</span> <span class="cp">?&gt;</span><span class="nt">&lt;/span&gt;&lt;/li&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>

    <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_next_url</span><span class="p">())</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_next_url</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span>Next <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/ul&gt;</span>

<span class="nt">&lt;p&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_total_items</span><span class="p">();</span> <span class="cp">?&gt;</span> found.

    Showing
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_current_page_first_item</span><span class="p">();</span> <span class="cp">?&gt;</span>
    -
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginator</span><span class="o">-&gt;</span><span class="na">get_current_page_last_item</span><span class="p">();</span> <span class="cp">?&gt;</span>.
<span class="nt">&lt;/p&gt;</span>
</code></pre><h2 id='pages-data-structure'>Pages data structure</h2>
<p><em>$this-&gt;paginator-&gt;get_pages()</em></p>

<p>get_pages() returns a data structure like the following:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">array</span> <span class="p">(</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>     <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/1'</span><span class="p">,</span>  <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="s1">'...'</span><span class="p">,</span> <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="k">NULL</span><span class="p">,</span>           <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>     <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/5'</span><span class="p">,</span>  <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>     <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/6'</span><span class="p">,</span>  <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">7</span><span class="p">,</span>     <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/7'</span><span class="p">,</span>  <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">8</span><span class="p">,</span>     <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/8'</span><span class="p">,</span>  <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="p">,</span>     <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/9'</span><span class="p">,</span>  <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/10'</span><span class="p">,</span> <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">11</span><span class="p">,</span>    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/11'</span><span class="p">,</span> <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="p">,</span>    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/12'</span><span class="p">,</span> <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="s1">'...'</span><span class="p">,</span> <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="k">NULL</span><span class="p">,</span>           <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
    <span class="k">array</span> <span class="p">(</span><span class="s1">'num'</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'/foo/page/20'</span><span class="p">,</span> <span class="s1">'isCurrent'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">),</span>
<span class="p">)</span>
</code></pre><h2 id='customizing-the-number-of-pages-shown'>Customizing the number of pages shown</h2>
<p>By default, no more than 10 pages are shown, including the first and last page, with the overflow replaced by ellipses. To change the default number of pages:</p>

<p><em>$this-&gt;paginator-&gt;set_max_pages_to_show(5);</em></p>
<h1 id='query-builder-class'>Query Builder Class</h1>
<p>CodeDmx has a Mysqli Query Builder. This class can help you minified your code to connect with the database.</p>

<aside class="warning">You need to edit your db.settings.php file to connect with the database</aside>

<blockquote>
<p>First of all you need to load the library file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'db'</span><span class="p">);</span>

<span class="c1">// Then
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
</code></pre><h2 id='add-multiple-connection'>Add multiple connection</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">add_connection</span><span class="p">(</span><span class="s1">'slave'</span><span class="p">,</span> <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">db</span><span class="p">[</span><span class="s1">'other'</span><span class="p">]);</span>

<span class="c1">// Then
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">connection</span><span class="p">(</span><span class="s1">'slave'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'clients'</span><span class="p">);</span>
</code></pre><h2 id='select-query'>Select Query</h2>
<p>The following functions allow you to build SQL SELECT statements:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$users</span><span class="p">);</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$users</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>You can select with custom columns set.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$cols</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">'email'</span><span class="p">);</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nv">$cols</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>You can select just one row</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nv">$user</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_one</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$user</span><span class="p">[</span><span class="s1">'id'</span><span class="p">];</span>

<span class="nv">$stats</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_one</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="s1">'sum(id), count(*) as cnt'</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"total "</span> <span class="o">.</span> <span class="nv">$stats</span><span class="p">[</span><span class="s1">'cnt'</span><span class="p">]</span> <span class="o">.</span> <span class="s2">"users found"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>You can select one column value of function result</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$count</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_value</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="s1">'count(*)'</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"</span><span class="si">{</span><span class="nv">$count</span><span class="si">}</span><span class="s2"> users found"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>You can select one column value or function result from multiple rows:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Select login from users
</span><span class="nv">$logins</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_value</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="s1">'login'</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
<span class="c1">// Select login from users limit 5
</span><span class="nv">$logins</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_value</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="s1">'login'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$logins</span> <span class="k">as</span> <span class="nv">$login</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$login</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h2 id='insert-query'>Insert Query</h2>
<blockquote>
<p>Just a simple example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"login"</span> <span class="o">=&gt;</span> <span class="s2">"admin"</span><span class="p">,</span>
    <span class="s2">"firstName"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="s2">"lastName"</span> <span class="o">=&gt;</span> <span class="s2">"Dow"</span>
<span class="p">);</span>

<span class="nv">$id</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"user was created. Id="</span> <span class="o">.</span> <span class="nv">$id</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Insert with functions:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'login'</span> <span class="o">=&gt;</span> <span class="s1">'admin'</span><span class="p">,</span>
    <span class="s1">'active'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
    <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Dow'</span><span class="p">,</span>
    <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">func</span><span class="p">(</span><span class="s1">'SHA1(?)'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'secretpassword+salt'</span><span class="p">)),</span>
    <span class="c1">// password = SHA1('secretpassword+salt')
</span>    <span class="s1">'createdAt'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">now</span><span class="p">(),</span>
    <span class="c1">// createdAt = NOW()
</span>    <span class="s1">'expires'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">now</span><span class="p">(</span><span class="s1">'+1Y'</span><span class="p">)</span>
    <span class="c1">// expires = NOW() + interval 1 year
</span>    <span class="c1">// Supported intervals [s]econd, [m]inute, [h]our, [d]ay, [M]onth, [Y]ear
</span><span class="p">);</span>

<span class="nv">$id</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"user was created. Id="</span> <span class="o">.</span> <span class="nv">$id</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"insert failed "</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_last_error</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Insert with on duplicate key update</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'login'</span> <span class="o">=&gt;</span> <span class="s1">'admin'</span><span class="p">,</span>
    <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
    <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Dow'</span><span class="p">,</span>
    <span class="s1">'createdAt'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">now</span><span class="p">(),</span>
    <span class="s1">'updatedAt'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">now</span><span class="p">()</span>
<span class="p">);</span>

<span class="nv">$update_columns</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'updatedAt'</span><span class="p">);</span>
<span class="nv">$last_insert_id</span> <span class="o">=</span> <span class="s1">'id'</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">on_duplicate</span><span class="p">(</span><span class="nv">$update_columns</span><span class="p">,</span> <span class="nv">$last_insert_id</span><span class="p">);</span>
<span class="nv">$id</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Insert multiple data at once</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'login'</span> <span class="o">=&gt;</span> <span class="s1">'admin'</span><span class="p">,</span>
        <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'login'</span> <span class="o">=&gt;</span> <span class="s1">'other'</span><span class="p">,</span>
        <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Another'</span><span class="p">,</span>
        <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'User'</span><span class="p">,</span>
        <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">'very_cool_hash'</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$ids</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">insert_multi</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nv">$ids</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'insert failed: '</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_last_error</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'new users inserted with following id\'s: '</span> <span class="o">.</span> <span class="nb">implode</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="nv">$ids</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>If all datasets only have the same keys, it can be simplified</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'admin'</span><span class="p">,</span> <span class="s1">'John'</span><span class="p">,</span> <span class="s1">'Doe'</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">'other'</span><span class="p">,</span> <span class="s1">'Another'</span><span class="p">,</span> <span class="s1">'User'</span><span class="p">),</span>
<span class="p">);</span>
<span class="nv">$keys</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'login'</span><span class="p">,</span> <span class="s1">'firstName'</span><span class="p">,</span> <span class="s1">'lastName'</span><span class="p">);</span>

<span class="nv">$ids</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">insert_multi</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="nv">$keys</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nv">$ids</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'insert failed: '</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_last_error</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'new users inserted with following id\'s: '</span> <span class="o">.</span> <span class="nb">implode</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="nv">$ids</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><h2 id='update-query'>Update Query</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Bobby'</span><span class="p">,</span>
    <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Tables'</span><span class="p">,</span>
    <span class="c1">// editCount = editCount + 2;
</span>    <span class="s1">'editCount'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">inc</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
    <span class="c1">// active = !active;
</span>    <span class="s1">'active'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">not</span><span class="p">()</span>
<span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">count</span> <span class="o">.</span> <span class="s1">' records were updated'</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'update failed: '</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_last_error</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Update also support limit parameter</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="c1">// Gives: UPDATE users SET ... LIMIT 10
</span></code></pre><h2 id='delete-query'>Delete Query</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'users'</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'successfully deleted'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h2 id='where-having-methods'>Where / Having Methods</h2>
<p>All conditions supported by where() are supported by having() as well.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'login'</span><span class="p">,</span> <span class="s1">'admin'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE id = 1 AND login = 'admin'
</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">having</span><span class="p">(</span><span class="s1">'login'</span><span class="p">,</span> <span class="s1">'admin'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE id = 1 HAVING login = 'admin'
</span></code></pre>
<blockquote>
<p>Compare with column to column</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// WRONG
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'lastLogin'</span><span class="p">,</span> <span class="s1">'createdAt'</span><span class="p">);</span>

<span class="c1">// CORRECT
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'lastLogin = createdAt'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE lastLogin = createdAt;
</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">"&gt;="</span><span class="p">);</span>
<span class="c1">// or $this-&gt;db-&gt;where('id', array('&gt;=' =&gt; 50));
</span><span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">//Gives: SELECT * FROM users WHERE id &gt;= 50
</span></code></pre>
<blockquote>
<p>LIKE</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'column_name'</span><span class="p">,</span> <span class="s1">'%string%'</span><span class="p">,</span> <span class="s1">'LIKE'</span><span class="p">);</span>
<span class="nv">$rows</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'table_name'</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM table_name WHERE column_name LIKE '%string%'
</span>
<span class="c1">// Or you can use
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'IP'</span><span class="p">,</span> <span class="s1">'%'</span> <span class="o">.</span> <span class="nv">$VAR</span> <span class="o">.</span> <span class="s1">'%'</span><span class="p">,</span> <span class="s1">'LIKE'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>BETWEEN / NOT BETWEEN</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="s1">'BETWEEN'</span><span class="p">);</span>
<span class="c1">// or $this-&gt;db-&gt;where('id', array('BETWEEN' =&gt; array(4, 20)));
</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE id BETWEEN 4 AND 20
</span></code></pre>
<blockquote>
<p>IN / NOT IN</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">),</span> <span class="s1">'IN'</span><span class="p">);</span>
<span class="c1">// or $this-&gt;db-&gt;where('id', array('IN' =&gt; array(1, 5, 27, -1, 'd')));
</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE id IN (1, 5, 27, -1, 'd');
</span></code></pre>
<blockquote>
<p>OR CASE</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'firstName'</span><span class="p">,</span> <span class="s1">'John'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">or_where</span><span class="p">(</span><span class="s1">'firstName'</span><span class="p">,</span> <span class="s1">'Peter'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE firstName='John' OR firstName='peter'
</span></code></pre>
<blockquote>
<p>NULL COMPARISON</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'lastName'</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="s1">'IS NOT'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE lastName IS NOT NULL
</span></code></pre>
<blockquote>
<p>Also you can use raw where conditions:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">"id != companyId"</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'DATE(createdAt) = DATE(lastLogin)'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE id != companyId AND DATE(createdAt) = DATE(lastLogin)
</span></code></pre>
<blockquote>
<p>Or raw condition with variables:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s2">"(id = ? OR id = ?)"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'login'</span><span class="p">,</span> <span class="s1">'mike'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users WHERE (id = 6 OR id = 2) AND login='mike'
</span></code></pre>
<blockquote>
<p>Find the total number of rows matched. Simple pagination example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$offset</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nv">$count</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">with_total_count</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="nv">$offset</span><span class="p">,</span> <span class="nv">$count</span><span class="p">));</span>
<span class="k">echo</span> <span class="s2">"Showing </span><span class="si">{</span><span class="nv">$count</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">total_count</span><span class="si">}</span><span class="s2">"</span><span class="p">;</span>
</code></pre><h2 id='ordering-method'>Ordering method</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">order_by</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="s1">'ASC'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">order_by</span><span class="p">(</span><span class="s1">'login'</span><span class="p">,</span> <span class="s1">'DESC'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">order_by</span><span class="p">(</span><span class="s1">'RAND ()'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users ORDER BY id ASC, login DESC, RAND();
</span></code></pre>
<blockquote>
<p>Order by values</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">order_by</span><span class="p">(</span><span class="s1">'userGoup'</span><span class="p">,</span> <span class="s1">'ASC'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'superuser'</span><span class="p">,</span> <span class="s1">'admin'</span><span class="p">,</span> <span class="s1">'users'</span><span class="p">));</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users ORDER BY FIELD (userGroup, 'superuser', 'admin', 'users') ASC;
</span></code></pre>
<blockquote>
<p>If you are using set_prefix() functionality and need to use tables names in order_by() method make sure that table names are escaped with &#39;&#39;.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// WRONG
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">set_prefix</span><span class="p">(</span><span class="s2">"t_"</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">order_by</span><span class="p">(</span><span class="s2">"users.id"</span><span class="p">,</span> <span class="s1">'ASC'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="c1">// WRONG: SELECT * FROM t_users ORDER BY users.id ASC;
</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">set_prefix</span><span class="p">(</span><span class="s2">"t_"</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">order_by</span><span class="p">(</span><span class="s2">"users.id"</span><span class="p">,</span> <span class="s1">'ASC'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="c1">// CORRECT: SELECT * FROM t_users ORDER BY t_users.id ASC;
</span></code></pre><h2 id='groping-method'>Groping Method</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">group_by</span><span class="p">(</span><span class="s1">'name'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM users GROUP BY name;
</span></code></pre><h2 id='join-method'>JOIN Method</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">'users u'</span><span class="p">,</span> <span class="s1">'p.id=u.id'</span><span class="p">,</span> <span class="s1">'LEFT'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'u.id'</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'posts p'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'u.firstName, p.title'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JOIN with 3 tables</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">'users u'</span><span class="p">,</span> <span class="s1">'p.id=u.id'</span><span class="p">,</span> <span class="s1">'LEFT'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">'articles a'</span><span class="p">,</span> <span class="s1">'a.id=u.id'</span><span class="p">,</span> <span class="s1">'LEFT'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'u.id'</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'posts p'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'u.firstName, p.title, a.lolname'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JOIN with AND condition</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">'users u'</span><span class="p">,</span> <span class="s1">'p.id=u.id'</span><span class="p">,</span> <span class="s1">'LEFT'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">join_where</span><span class="p">(</span><span class="s1">'users u'</span><span class="p">,</span> <span class="s1">'u.id'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'posts p'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'u.firstName, p.title'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT u.firstName, p.title FROM products p LEFT JOIN users u ON (p.id=u.id AND u.id=5)
</span></code></pre>
<blockquote>
<p>JOIN with OR condition</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">'users u'</span><span class="p">,</span> <span class="s1">'p.id=u.id'</span><span class="p">,</span> <span class="s1">'LEFT'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">join_or_where</span><span class="p">(</span><span class="s1">'users u'</span><span class="p">,</span> <span class="s1">'u.id'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'posts p'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'u.firstName, p.title'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
<span class="c1">// Gives: SELECT u.firstName, p.title FROM products p LEFT JOIN users u ON (p.id=u.id OR u.id=5)
</span></code></pre><h2 id='has-method'>Has method</h2>
<p>A convenient function that returns TRUE if exists at least an element that satisfy the where condition specified calling the &quot;where&quot; method before this one.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'user'</span><span class="p">,</span> <span class="nv">$user</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'password'</span><span class="p">,</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$password</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">'users'</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'You are logged'</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Wrong user/password'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h2 id='helper-methods'>Helper methods</h2>
<blockquote>
<p>Reconnect in case mysql connection died:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">ping</span><span class="p">())</span>
<span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Get last executed SQL query</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="k">echo</span> <span class="s1">'Last executed query was '</span><span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_last_query</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Check if table exists</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">table_exists</span><span class="p">(</span><span class="s1">'users'</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'lml'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Real escape string</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$escaped</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="s2">"' and 1=1"</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Error helpers</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'login'</span><span class="p">,</span> <span class="s1">'admin'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Jack'</span><span class="p">]);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_last_errno</span><span class="p">()</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Update succesfull'</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Update failed. Erro: '</span><span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_last_error</span><span class="p">();</span>
<span class="p">}</span>
</code></pre><h2 id='properties-sharing'>Properties sharing</h2>
<p>Also is possible to copy properties</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'agentId'</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'active'</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>

<span class="nv">$customers</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">copy</span><span class="p">();</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$customers</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
<span class="c1">// Gives: SELECT * FROM customers WHERE agentId = 10 AND active = 1 LIMIT 10,10
</span>
<span class="nv">$cnt</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get_value</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="s1">'count(id)'</span><span class="p">);</span>
<span class="k">echo</span> <span class="s1">'total records found: '</span><span class="o">.</span> <span class="nv">$cnt</span><span class="p">;</span>
<span class="c1">//Gives: SELECT count(id) FROM users WHERE agentId = 10 AND active = 1
</span></code></pre><h2 id='pagination'>Pagination</h2>
<p>Use paginate() instead of get() to fetch paginated result</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$page</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">page_limit</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">array_builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">paginate</span><span class="p">(</span><span class="s1">'products'</span><span class="p">,</span> <span class="nv">$page</span><span class="p">);</span>
<span class="k">echo</span> <span class="s1">'showing $page out of '</span><span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">total_pages</span><span class="p">;</span>
</code></pre><h2 id='query-exectution-time-benchmarking'>Query exectution time benchmarking</h2>
<p>To track query execution time set_trace() function should be called.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">set_trace</span><span class="p">(</span><span class="k">TRUE</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'test'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">trace</span><span class="p">);</span>

<span class="cm">/*
Array
(
    [0] =&gt; Array
        (
            [0] =&gt; SELECT  * FROM users
            [1] =&gt; 0.00048494338989258
        )

    [1] =&gt; Array
        (
            [0] =&gt; SELECT  * FROM test
            [1] =&gt; 0.0076069831848145
        )
)
*/</span>
</code></pre><h2 id='subqueries'>Subqueries</h2>
<blockquote>
<p>Subquery without an alias to use in insert/update/where Eg. (SELECT * FROM users)</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$subq</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">sub_query</span><span class="p">();</span>
<span class="nv">$subq</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Subquery in select</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ids</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">sub_query</span><span class="p">();</span>
<span class="nv">$ids</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'qty'</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'&gt;'</span><span class="p">);</span>
<span class="nv">$ids</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'products'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'userId'</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="nv">$ids</span><span class="p">,</span> <span class="s1">'in'</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>
<span class="c1">// Gives SELECT * FROM users WHERE id IN (SELECT userId FROM products WHERE qty &gt; 2)
</span></code></pre>
<blockquote>
<p>Subquery in join</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">sub_query</span><span class="p">(</span><span class="s1">'u'</span><span class="p">);</span>
<span class="nv">$users</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'active'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nv">$users</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="nv">$users</span><span class="p">,</span> <span class="s1">'p.userId=u.id'</span><span class="p">,</span> <span class="s1">'LEFT'</span><span class="p">);</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'products p'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'u.login, p.productName'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$products</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Subquery in insert</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$user</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">sub_query</span><span class="p">();</span>
<span class="nv">$user</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'where'</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="nv">$user</span><span class="o">-&gt;</span><span class="na">get_one</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">);</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'productName'</span> <span class="o">=&gt;</span> <span class="s1">'test product'</span><span class="p">,</span>
    <span class="s1">'userId'</span> <span class="o">=&gt;</span> <span class="nv">$user</span><span class="p">,</span>
    <span class="s1">'lastUpdated'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">now</span><span class="p">()</span>
<span class="p">);</span>

<span class="nv">$id</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="s1">'products'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
<span class="c1">// Gives: INSERT INTO products (productName, userId, lastUpdated) VALUES ("test product", (SELECT name FROM users WHERE id = 6), NOW());
</span></code></pre><h2 id='exists-not-exists-condition'>EXISTS / NOT EXISTS condition</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$sub</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">sub_query</span><span class="p">();</span>
<span class="nv">$sub</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'company'</span><span class="p">,</span> <span class="s1">'testCompany'</span><span class="p">);</span>
<span class="nv">$sub</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">'userId'</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nv">$sub</span><span class="p">,</span> <span class="s1">'exists'</span><span class="p">);</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'products'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$products</span><span class="p">);</span>
<span class="c1">// Gives: SELECT * FROM products WHERE EXISTS (SELECT userId FROM users WHERE company='testCompany')
</span></code></pre><h2 id='queries'>Queries</h2>
<p>This also can run your SQL queries directly</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">raw_query</span><span class="p">(</span><span class="s1">'SELECT * FROM users WHERE id &gt;= ?'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$user</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Get one row of results</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$user</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">raw_query_one</span><span class="p">(</span><span class="s1">'SELECT * FROM users WHERE id=?'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="k">echo</span> <span class="nv">$user</span><span class="p">[</span><span class="s1">'login'</span><span class="p">];</span>

<span class="c1">// Object return type
</span><span class="nv">$user</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">object_builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">raw_query_one</span><span class="p">(</span><span class="s1">'SELECT * FROM users WHERE id=?'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="k">echo</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">login</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Get one column value as a string</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$password</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">raw_query_value</span><span class="p">(</span><span class="s1">'SELECT password FROM users WHERE id=? limit 1'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="c1">// For a raw_query_value() return a string instead of an array, 'limit 1' should be added to the end of the query
</span><span class="k">echo</span> <span class="s1">'Password is {$password}'</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Get one colum value from multiple rows</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$login</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">raw_query_value</span><span class="p">(</span><span class="s1">'SELECT login FROM users LIMIT 10'</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$login</span> <span class="k">as</span> <span class="nv">$var</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$var</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>An advanced examples</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'admin'</span><span class="p">);</span>
<span class="nv">$users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">raw_query</span><span class="p">(</span><span class="s1">'SELECT id, firstName, lastName FROM users WHERE id = ? AND login = ?'</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$users</span><span class="p">);</span>

<span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="nv">$q</span> <span class="o">=</span> <span class="s1">'(
    SELECT a FROM t1
        WHERE a = ? AND B = ?
        ORDER BY a LIMIT ?
) UNION (
    SELECT a FROM t2
        WHERE a = ? AND B = ?
        ORDER BY a LIMIT ?
);'</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">raw_query</span><span class="p">(</span><span class="nv">$q</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
</code></pre><h1 id='session-class'>Session Class</h1>
<p>CodeDmx has a Session class for you guessed it, managing sessions. Back in the day, when there weren&#39;t many open source frameworks on the market, developers had to code things from scratch to achieve certain functionality. This class&#39;s inception, is the from one of those instances. With this class you can easily time-out your authenticated users after a specified interval.</p>

<blockquote>
<p>First of all you need to load the library file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'session'</span><span class="p">);</span>
</code></pre><h2 id='set-session'>Set session</h2>
<p>Set key/value in session</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="mi">12345</span><span class="p">);</span>
<span class="c1">// LIKE $_SESSION['id'] = 12345;
</span>
<span class="c1">// OR
</span>
<span class="nv">$session</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="mi">12345</span><span class="p">,</span>
    <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
    <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'test@mysite.com'</span>
<span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="nv">$session</span><span class="p">);</span>
</code></pre><h2 id='has-seted'>Has seted</h2>
<p>Verify that a session value exists</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">has_seted</span><span class="p">(</span><span class="s1">'id'</span><span class="p">));</span>
<span class="c1">// Output: bool
</span></code></pre><h2 id='unset'>Unset</h2>
<p>Remove session data</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">_unset</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
<span class="c1">// LIKE unset($_SESSION['id']);
</span></code></pre><h2 id='get'>Get</h2>
<p>Retrieve value stored in session by key.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">);</span>
<span class="c1">// Output: John
// LIKE echo $_SESSION['name'];
</span></code></pre><h2 id='destroy'>Destroy</h2>
<p>Destroys the session.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span>
<span class="c1">// similar like session_destroy();
</span></code></pre><h1 id='timeago-class'>TimeAgo Class</h1>
<blockquote>
<p>First of all you need to load the library file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// The array must have two values
// First one is about TimeZone like 'America/Mexico'
// Second one is about language, by default is in spanish (es)
</span><span class="nv">$arg</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="s1">'en'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'timeago'</span><span class="p">,</span> <span class="nv">$arg</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>How to determine, what &quot;ago&quot; is</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
  <span class="mi">0</span> <span class="o">&lt;-&gt;</span> <span class="mi">29</span> <span class="nx">secs</span>                                                             <span class="c1"># =&gt; less than a minute
</span>  <span class="mi">30</span> <span class="nx">secs</span> <span class="o">&lt;-&gt;</span> <span class="mi">1</span> <span class="nb">min</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span>                                                <span class="c1"># =&gt; 1 minute
</span>  <span class="mi">1</span> <span class="nb">min</span><span class="p">,</span> <span class="mi">30</span> <span class="nx">secs</span> <span class="o">&lt;-&gt;</span> <span class="mi">44</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span>                                       <span class="c1"># =&gt; [2..44] minutes
</span>  <span class="mi">44</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">30</span> <span class="nx">secs</span> <span class="o">&lt;-&gt;</span> <span class="mi">89</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span>                                     <span class="c1"># =&gt; about 1 hour
</span>  <span class="mi">89</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span> <span class="o">&lt;-&gt;</span> <span class="mi">23</span> <span class="nx">hrs</span><span class="p">,</span> <span class="mi">59</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span>                             <span class="c1"># =&gt; about [2..24] hours
</span>  <span class="mi">23</span> <span class="nx">hrs</span><span class="p">,</span> <span class="mi">59</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span> <span class="o">&lt;-&gt;</span> <span class="mi">47</span> <span class="nx">hrs</span><span class="p">,</span> <span class="mi">59</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span>                     <span class="c1"># =&gt; 1 day
</span>  <span class="mi">47</span> <span class="nx">hrs</span><span class="p">,</span> <span class="mi">59</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span> <span class="o">&lt;-&gt;</span> <span class="mi">29</span> <span class="nx">days</span><span class="p">,</span> <span class="mi">23</span> <span class="nx">hrs</span><span class="p">,</span> <span class="mi">59</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span>            <span class="c1"># =&gt; [2..29] days
</span>  <span class="mi">29</span> <span class="nx">days</span><span class="p">,</span> <span class="mi">23</span> <span class="nx">hrs</span><span class="p">,</span> <span class="mi">59</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">30</span> <span class="nx">secs</span> <span class="o">&lt;-&gt;</span> <span class="mi">59</span> <span class="nx">days</span><span class="p">,</span> <span class="mi">23</span> <span class="nx">hrs</span><span class="p">,</span> <span class="mi">59</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">29</span> <span class="nx">secs</span>   <span class="c1"># =&gt; about 1 month
</span>  <span class="mi">59</span> <span class="nx">days</span><span class="p">,</span> <span class="mi">23</span> <span class="nx">hrs</span><span class="p">,</span> <span class="mi">59</span> <span class="nx">mins</span><span class="p">,</span> <span class="mi">30</span> <span class="nx">secs</span> <span class="o">&lt;-&gt;</span> <span class="mi">1</span> <span class="nx">yr</span> <span class="nx">minus</span> <span class="mi">1</span> <span class="nx">sec</span>                    <span class="c1"># =&gt; [2..12] months
</span>  <span class="mi">1</span> <span class="nx">yr</span> <span class="o">&lt;-&gt;</span> <span class="mi">2</span> <span class="nx">yrs</span> <span class="nx">minus</span> <span class="mi">1</span> <span class="nx">secs</span>                                               <span class="c1"># =&gt; about 1 year
</span>  <span class="mi">2</span> <span class="nx">yrs</span> <span class="o">&lt;-&gt;</span> <span class="nb">max</span> <span class="nb">time</span> <span class="k">or</span> <span class="nb">date</span>                                                <span class="c1"># =&gt; over [2..X] years
</span></code></pre>
<p>Simple module, that displays the date in a &quot;time ago&quot; format.</p>

<blockquote>
<p>Using this class</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">timeago</span><span class="o">-&gt;</span><span class="na">in_words</span><span class="p">(</span><span class="s1">'2016-06-05 10:10:10'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Do you want the actual years, months, days, hours, minutes, seconds difference?</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'timeago'</span><span class="p">);</span>
<span class="nv">$dateDifferenceArray</span> <span class="o">=</span>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">timeago</span><span class="o">-&gt;</span><span class="na">date_difference</span><span class="p">(</span><span class="s2">"2017-03-02 07:53:00"</span><span class="p">,</span> <span class="s2">"2017-03-02 07:53:01"</span><span class="p">);</span>

<span class="c1">// This will return an array with the following data:
</span>
<span class="p">[</span>
  <span class="s1">'years'</span> <span class="o">=&gt;</span> <span class="mi">0</span>
  <span class="s1">'months'</span> <span class="o">=&gt;</span> <span class="mi">0</span>
  <span class="s1">'days'</span> <span class="o">=&gt;</span> <span class="mi">0</span>
  <span class="s1">'hours'</span> <span class="o">=&gt;</span> <span class="mi">0</span>
  <span class="s1">'minutes'</span> <span class="o">=&gt;</span> <span class="mi">0</span>
  <span class="s1">'seconds'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">]</span>
</code></pre><h1 id='upload-class'>Upload class</h1>
<p>CodeDmx has an Upload Class, that permits upload files to a remote server.</p>

<blockquote>
<p>First of all you need to load class</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'upload'</span><span class="p">);</span>
</code></pre><h2 id='a-simple-example'>A simple example</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$_FILES</span><span class="p">))</span>
<span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'upload'</span><span class="p">);</span>

    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">'file'</span><span class="p">);</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">destination</span><span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">'COD'</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">doc</span> <span class="o">.</span> <span class="s1">'uploads'</span> <span class="o">.</span> <span class="nx">DS</span><span class="p">);</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">())</span>
    <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'is upload!'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">action=</span><span class="s">""</span> <span class="na">enctype=</span><span class="s">"multipart/form-data"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">name=</span><span class="s">"file"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"Upload now!"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre><h2 id='allow_mime_type'>allow_mime_type</h2>
<p>This method will allow you to establish a new mime type</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">allow_mime_type</span><span class="p">(</span><span class="s2">"text/html"</span><span class="p">);</span>

<span class="c1"># But you can also use the mime_helping(Show more in $mime_helping)
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">allow_mime_type</span><span class="p">(</span><span class="s2">"image"</span><span class="p">);</span> <span class="c1">// Set: image/jpeg, image/jpg, image/pjpeg, image/png and image/gif.
</span></code></pre><h2 id='allowed_mime_types'>allowed_mime_types</h2>
<p>This method will allow you to set multiple mime types.</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">allowed_mime_types</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s2">"text/plain"</span><span class="p">,</span>
    <span class="s2">"text/html"</span>
<span class="p">));</span>
</code></pre><h2 id='auto_filename'>auto_filename</h2>
<p>This method will allow you to generate a unique name for the file you are uploading.</p>
<h2 id='callback_input'>callback_input</h2>
<p>This method will allow you to set a function to be executed to start the process. The method used must have a single parameter, which will be equivalent $this-&gt;upload-&gt;get_info()</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">callback_input</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$file</span><span class="p">){</span>
    <span class="k">echo</span> <span class="s2">"start!"</span><span class="p">;</span>
<span class="p">});</span>
</code></pre><h2 id='callback_output'>callback_output</h2>
<p>This method will allow you to set a function to be executed at the end of the process. The method used must have a single parameter, which will be equivalent $this-&gt;upload-&gt;get_info()</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">callback_output</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$file</span><span class="p">){</span>
    <span class="nb">rename</span><span class="p">(</span><span class="nv">$file</span><span class="o">-&gt;</span><span class="na">destination</span><span class="p">,</span> <span class="nb">time</span><span class="p">());</span>
<span class="p">});</span>
</code></pre><h2 id='destination'>destination</h2>
<p>This method allows you to set where the file will be saved trying to upload.</p>

<p>If the file path does not exist, you can set the parameter to true $create_if_not_exist when trying to create a new path.</p>

<blockquote>
<p>Examples:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">destination</span><span class="p">(</span><span class="s2">"./uploads"</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">destination</span><span class="p">(</span><span class="s2">"../uploads"</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">destination</span><span class="p">(</span><span class="s2">"/var/www/html/uploads"</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">destination</span><span class="p">(</span><span class="s2">"/var/www/html/uploads/tmp"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span> <span class="c1">// If path not exists, force create
</span></code></pre><h2 id='filename'>filename</h2>
<p>This method will allow you to set the name of the file you are uploading. For the extension of the file, use the wildcard %s.</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">filename</span><span class="p">(</span><span class="s2">"my_new_file.%s"</span><span class="p">);</span>
</code></pre><h2 id='max_file_size'>max_file_size</h2>
<p>This method allows you to limit the size of file you are uploading.</p>

<blockquote>
<p>Examples:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">max_file_size</span><span class="p">(</span><span class="s2">"1m"</span><span class="p">);</span> <span class="c1">// Limit is 1MB(1048576 Bytes)
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">max_file_size</span><span class="p">(</span><span class="s2">"1.5Megabytes"</span><span class="p">);</span> <span class="c1">// Limit is 1.5MB(1572864 Bytes)
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">max_file_size</span><span class="p">(</span><span class="s2">"1.5MB"</span><span class="p">);</span> <span class="c1">// Limit is 1.5MB(1572864 Bytes)
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">max_file_size</span><span class="p">(</span><span class="s2">"12Gbytes"</span><span class="p">);</span> <span class="c1">// Limit is 12 GB(12884901888 Bytes)
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">max_file_size</span><span class="p">(</span><span class="s2">"1048576"</span><span class="p">);</span> <span class="c1">// Limit is 1MB(1048576 Bytes)
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">max_file_size</span><span class="p">(</span><span class="s2">"1331.2"</span><span class="p">);</span> <span class="c1">// Limit is 1.3KB(1331.2 Bytes)
</span></code></pre><h2 id='upload_function'>upload_function</h2>
<p>This method allows you to use the function that you need to upload files</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">upload_function</span><span class="p">(</span><span class="s2">"copy"</span><span class="p">);</span> <span class="c1">// Default is move_uploaded_file
</span></code></pre><h2 id='size_format'>size_format</h2>
<p>Converts bytes to units of measurement.</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_format</span><span class="p">(</span><span class="s2">"1"</span><span class="p">);</span> <span class="c1">// return 1B
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_format</span><span class="p">(</span><span class="s2">"1024"</span><span class="p">);</span> <span class="c1">// return 1K
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_format</span><span class="p">(</span><span class="s2">"1048576"</span><span class="p">);</span> <span class="c1">// return 1M
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_format</span><span class="p">(</span><span class="s2">"1073741824"</span><span class="p">);</span> <span class="c1">// return 1G
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_format</span><span class="p">(</span><span class="s2">"1099511627776"</span><span class="p">);</span> <span class="c1">// return 1T
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_format</span><span class="p">(</span><span class="s2">"1331.2"</span><span class="p">);</span> <span class="c1">// return 1.3K
</span></code></pre><h2 id='size_in_bytes'>size_in_bytes</h2>
<p>Converts measurement units to bytes</p>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_in_bytes</span><span class="p">(</span><span class="s2">"1"</span><span class="p">);</span> <span class="c1">// return 1
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_in_bytes</span><span class="p">(</span><span class="s2">"1B"</span><span class="p">);</span> <span class="c1">// return 1
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_in_bytes</span><span class="p">(</span><span class="s2">"1K"</span><span class="p">);</span> <span class="c1">// return 1024
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_in_bytes</span><span class="p">(</span><span class="s2">"1M"</span><span class="p">);</span> <span class="c1">// return 1048576
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_in_bytes</span><span class="p">(</span><span class="s2">"1G"</span><span class="p">);</span> <span class="c1">// return 1073741824
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">upload</span><span class="o">-&gt;</span><span class="na">size_in_bytes</span><span class="p">(</span><span class="s2">"1.56M"</span><span class="p">);</span> <span class="c1">// return 1635778.56
</span></code></pre><h2 id='get_info'>get_info()</h2>
<p>Returns all information about uploading the file.</p>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">stdClass</span> <span class="nx">Object</span>
<span class="p">(</span>
    <span class="p">[</span><span class="nx">status</span><span class="p">]</span>            <span class="o">=&gt;</span> <span class="kc">false</span>       <span class="c1">// true if successful upload
</span>    <span class="p">[</span><span class="nx">mime</span><span class="p">]</span>              <span class="o">=&gt;</span> <span class="s2">""</span><span class="c1">// File mime type
</span>    <span class="p">[</span><span class="nx">filename</span><span class="p">]</span>          <span class="o">=&gt;</span> <span class="s2">""</span> <span class="c1">// The new filename
</span>    <span class="p">[</span><span class="nx">original</span><span class="p">]</span>          <span class="o">=&gt;</span> <span class="s2">""</span> <span class="c1">// Filename before to save in destination directory
</span>    <span class="p">[</span><span class="nx">size</span><span class="p">]</span>              <span class="o">=&gt;</span> <span class="mi">0</span> <span class="c1">// In bytes
</span>    <span class="p">[</span><span class="nx">size_formated</span><span class="p">]</span>     <span class="o">=&gt;</span> <span class="mi">0</span><span class="nx">B</span> <span class="c1">// In B, K, M and G
</span>    <span class="p">[</span><span class="nx">destination</span><span class="p">]</span>       <span class="o">=&gt;</span> <span class="s2">""</span> <span class="c1">// Default is current dir ( ./ )
</span>    <span class="p">[</span><span class="nx">allowed_mime_types</span><span class="p">]</span><span class="o">=&gt;</span> <span class="nx">Array</span> <span class="p">()</span> <span class="c1">// All allowed mime types
</span>    <span class="p">[</span><span class="nb">log</span><span class="p">]</span>               <span class="o">=&gt;</span> <span class="nx">Array</span> <span class="p">()</span> <span class="c1">// All logs
</span>    <span class="p">[</span><span class="nx">error</span><span class="p">]</span>             <span class="o">=&gt;</span> <span class="mi">0</span> <span class="c1">// File error
</span><span class="p">)</span>
</code></pre><h2 id='status'>status()</h2>
<p>Returns the status of the upload. If the condition is false, then the file has not yet risen, if the state is true, the file upload was performed successfully.</p>
<h2 id='is_dirpath'>is_dirpath</h2>
<p>Validates the directory path &quot;is_dirpath($directory)&quot;</p>
<h2 id='is_filename'>is_filename</h2>
<p>Validates the filename &quot;is_filename($filename)&quot;</p>
<h2 id='allow_overwriting'>allow_overwriting()</h2>
<p>If the file you try to upload already exists, it can not be overwritten unless you enable overwriting using this method.</p>
<h2 id='check_mime_type'>check_mime_type</h2>
<p>Validates the mime type of the file. If you have not enabled any mime type, the validation will return true. &quot;check_mime_type($mime_type)&quot;</p>
<h2 id='clear_allowed_mime_types'>clear_allowed_mime_types()</h2>
<p>Removes all previously enabled mime types.</p>
<h2 id='dir_exists'>dir_exists</h2>
<p>Checks if the directory exists. &quot;dir_exists($directory)&quot;</p>
<h2 id='file_exists'>file_exists</h2>
<p>Checks if the file exists. &quot;file_exists($file)&quot;</p>
<h2 id='save'>save()</h2>
<p>This method loads the file, applies filters and save the file to the set destination.</p>
<h1 id='validator-class'>Validator Class</h1>
<p>CodeDmx has a Validator class. This class can help you to validate inputs, form, or data that you sent.</p>

<blockquote>
<p>First of all you need to load class</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'validate'</span><span class="p">);</span>
</code></pre><h2 id='a-simple-example'>A simple example</h2>
<p>Before to explain this example, let&#39;s to describe the ideal scenario:</p>

<ul>
<li>A form is displayed</li>
<li>The user fill it and submit</li>
</ul>

<p>Runs the validation of the form submited:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$is_valid</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">is_valid</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'required|alpha_numeric'</span><span class="p">,</span>
  <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">'required|max_len,100|min_len,6'</span>
<span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$is_valid</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">//continue
</span><span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nb">print_r</span><span class="p">(</span><span class="nv">$is_valid</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><h2 id='available-methods'>Available Methods</h2>
<p>This are all available methods of Validator Class</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// The short way to validate
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">is_valid</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$rules</span><span class="p">);</span>

<span class="c1">// Get or set the validation rules
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">validation_rules</span><span class="p">(</span><span class="k">array</span> <span class="nv">$rules</span><span class="p">);</span>

<span class="c1">// Get or set the filtering rules
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">filter_rules</span><span class="p">(</span><span class="k">array</span> <span class="nv">$rules</span><span class="p">);</span>

<span class="c1">// Run the filter and validation routines
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">);</span>

<span class="c1">// Strips and encodes unwanted characters
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">xss_clean</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">);</span>

<span class="c1">// Sanitizes data and converts strings to UTF-8, this isn't required, but it's safest to do so.
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">sanitize</span><span class="p">(</span><span class="k">array</span> <span class="nv">$input</span><span class="p">);</span>

<span class="c1">// Validates input data according to the provided rules
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">(</span><span class="k">array</span> <span class="nv">$input</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$rules</span><span class="p">);</span>

<span class="c1">// Filters input data according to the provided filter
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">array</span> <span class="nv">$input</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$filter</span><span class="p">);</span>

<span class="c1">// Returns human readable error text in an array or string
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">get_readable_errors</span><span class="p">(</span><span class="nv">$convert_to_string</span> <span class="o">=</span> <span class="kc">false</span><span class="p">);</span>

<span class="c1">// Fetch an array of validation errors indexed by the field names
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">get_errors_array</span><span class="p">();</span>

<span class="c1">// Override field names with readable ones for errors
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">set_field_name</span><span class="p">(</span><span class="nv">$field</span><span class="p">,</span> <span class="nv">$readable_name</span><span class="p">);</span>
</code></pre><h2 id='long-format-example'>Long format example</h2>
<p>Runs the validation of the form submited:</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$_POST</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">sanitize</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">);</span> <span class="c1">// You don't have to do this, but it's safest to do.
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">validation_rules</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'required|alpha_numeric|max_len,20|min_len,6'</span><span class="p">,</span>
  <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">'required|max_len,100|min_len,6'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'required|valid_email'</span>
<span class="p">));</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">filter_rules</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'trim|sanitize_string'</span><span class="p">,</span>
  <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">'trim'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'trim|sanitize_email'</span>
<span class="p">));</span>

<span class="nv">$validated_data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validated_data</span> <span class="o">===</span> <span class="k">FALSE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">get_readable_errors</span><span class="p">(</span><span class="k">TRUE</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nb">print_r</span><span class="p">(</span><span class="nv">$validated_data</span><span class="p">);</span> <span class="c1">// validation successful
</span><span class="p">}</span>
</code></pre><h2 id='creating-your-own-validators-and-filters'>Creating your own validators and filters</h2>
<p>Adding custom validators and filters is made easy by using callback functions.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="cm">/*
  Create a csutom validation rule named "is_object".
  This callback receives 3 arguments:
  The field to validate, the values being validated, and any parameters used in the validation rule.
  It sould return a boolean value indicating whether the value is valid.
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">add_validator</span><span class="p">(</span><span class="s1">'is_object'</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$field</span><span class="p">,</span> <span class="nv">$input</span><span class="p">,</span> <span class="nv">$param</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">is_object</span><span class="p">(</span><span class="nv">$input</span><span class="p">[</span><span class="nv">$field</span><span class="p">]);</span>
<span class="p">});</span>

<span class="cm">/*
  Create a custom filter named "upper".
  The callback function receives two arguments:
  The value to filter, and any parameters used in the filter rule. It should returned the filtered value.
*/</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">add_filter</span><span class="p">(</span><span class="s1">'upper'</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$param</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><h2 id='available-filters'>Available Filters</h2>
<p>Filters can be any PHP function that returns a string. You don&#39;t need to create your own if a PHP function exists that does what you want the filter to do.</p>

<table><thead>
<tr>
<th>Rule</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sanitize_string</td>
<td>Remove script tags and encode HTML entities, similar to $this-&gt;validate-&gt;xss_clean();</td>
</tr>
<tr>
<td>urlencode</td>
<td>Encode url entities</td>
</tr>
<tr>
<td>htmlencode</td>
<td>Encode HTML entities</td>
</tr>
<tr>
<td>sanitize_email</td>
<td>Remove illegal characters from email addresses</td>
</tr>
<tr>
<td>sanitize_numbers</td>
<td>Remove any non-numeric characters</td>
</tr>
<tr>
<td>sanitize_floats</td>
<td>Remove any non-float characters</td>
</tr>
<tr>
<td>trim</td>
<td>Remove spaces from the beginning and end of strings</td>
</tr>
<tr>
<td>base64_encode</td>
<td>Base64 encode the input</td>
</tr>
<tr>
<td>base64_decode</td>
<td>Base64 decode the input</td>
</tr>
<tr>
<td>sha1</td>
<td>Encrypt the input with the secure sha1 algorithm</td>
</tr>
<tr>
<td>md5</td>
<td>MD5 encode the input</td>
</tr>
<tr>
<td>noise_words</td>
<td>Remove noise words from string</td>
</tr>
<tr>
<td>json_encode</td>
<td>Create a json representation of the input</td>
</tr>
<tr>
<td>json_decode</td>
<td>Decode a json string</td>
</tr>
<tr>
<td>rmpunctuation</td>
<td>Remove all known punctuation characters from a string</td>
</tr>
<tr>
<td>basic_tags</td>
<td>Remove all layout orientated HTML tags from text. Leaving only basic tags</td>
</tr>
<tr>
<td>whole_number</td>
<td>Check that the provided numeric value is represented as a whole number</td>
</tr>
</tbody></table>
<h2 id='validate-file-fields'>Validate file fields</h2>
<p>When you use a form that want to upload files, you can validate the file too</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$is_valid</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">is_valid</span><span class="p">(</span><span class="nb">array_merge</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">,</span> <span class="nv">$_FILES</span><span class="p">),</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'required|alpha_numeric'</span><span class="p">,</span>
  <span class="s1">'image'</span> <span class="o">=&gt;</span> <span class="s1">'required_file|extension,png;jpg'</span>
<span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$is_valid</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">//continue
</span><span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nb">print_r</span><span class="p">(</span><span class="nv">$is_valid</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><h2 id='url-exists-example'>URL Exists (Example)</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$_POST</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'http://asidnqowineoqiwneoinspoqwehpi1.com'</span> <span class="c1">// This url doesn't exist
</span><span class="p">);</span>

<span class="nv">$rules</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'url_exists'</span>
<span class="p">);</span>

<span class="nv">$is_valid</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">,</span> <span class="nv">$rules</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$is_valid</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'The URL provided is valid'</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nb">print_r</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">get_readable_errors</span><span class="p">());</span>
<span class="p">}</span>
</code></pre><h2 id='validate-street-address-example'>Validate street address (Example)</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'street'</span> <span class="o">=&gt;</span> <span class="s1">'Kuwait 6958'</span>
<span class="p">);</span>

<span class="nv">$validate</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">is_valid</span><span class="p">(</span><span class="nv">$data</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'street'</span> <span class="o">=&gt;</span> <span class="s1">'required|street_address'</span>
<span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validate</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Valid Street Address'</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nb">print_r</span><span class="p">(</span><span class="nv">$validate</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><h2 id='sanitize-string-example'>Sanitize string (Example)</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$_POST</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'string'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;script&gt;alert(1); $("body").remove(); &lt;/script&gt;'</span>
<span class="p">);</span>

<span class="nv">$filter</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'string'</span> <span class="o">=&gt;</span> <span class="s1">'sanitize_string'</span>
<span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">,</span> <span class="nv">$filter</span><span class="p">));</span>
</code></pre><h2 id='match-strings-example'>Match strings (Example)</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'myusername'</span><span class="p">,</span>
  <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">'mypassword'</span><span class="p">,</span>
  <span class="s1">'password_confirm'</span> <span class="o">=&gt;</span> <span class="s1">'mypa33word'</span>
<span class="p">);</span>

<span class="nv">$is_valid</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">is_valid</span><span class="p">(</span><span class="nv">$data</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'required|alpha_numeric'</span><span class="p">,</span>
  <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">'required|max_len,100|min_len,6'</span><span class="p">,</span>
  <span class="s1">'password_confirm'</span> <span class="o">=&gt;</span> <span class="s1">'equalsfield,password'</span>
<span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$is_valid</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// continue
</span><span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nb">print_r</span><span class="p">(</span><span class="nv">$is_valid</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><h2 id='escaping-mysql-strings-example'>Escaping Mysql Strings (Example)</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$_POST</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'my username'</span><span class="p">,</span>
  <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s2">"' OR ''='"</span>
<span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">sanitize</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">);</span>

<span class="nv">$filter</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'noise_words'</span><span class="p">,</span>
  <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">'trim|strtolower|addslashes'</span>
<span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">,</span> <span class="nv">$filter</span><span class="p">));</span>
</code></pre><h2 id='custom-validator-example'>Custom validator (Example)</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Add the custom validator
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">add_validator</span><span class="p">(</span><span class="s1">'is_object'</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$field</span><span class="p">,</span> <span class="nv">$input</span><span class="p">,</span> <span class="nv">$param</span> <span class="o">=</span> <span class="k">NULL</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">is_object</span><span class="p">(</span><span class="nv">$input</span><span class="p">[</span><span class="nv">$field</span><span class="p">]);</span>
<span class="p">});</span>

<span class="c1">// Generic data
</span><span class="nv">$input_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'not_object'</span> <span class="o">=&gt;</span> <span class="s1">'asdqwezxc'</span><span class="p">,</span>
  <span class="s1">'valid_object'</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="k">stdClass</span><span class="p">()</span>
<span class="p">);</span>

<span class="nv">$rules</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'not_object'</span> <span class="o">=&gt;</span> <span class="s1">'is_object'</span><span class="p">,</span>
  <span class="s1">'valid_object'</span> <span class="o">=&gt;</span> <span class="s1">'is_object'</span>
<span class="p">);</span>

<span class="cm">/*
Long Method
*/</span>

<span class="nv">$validated</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">(</span>
  <span class="nv">$input_data</span><span class="p">,</span> <span class="nv">$rules</span>
<span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validated</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Validation passed!'</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">get_readable_errors</span><span class="p">(</span><span class="k">TRUE</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
Short Method
*/</span>

<span class="nv">$is_valid</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">validate</span><span class="o">-&gt;</span><span class="na">is_valid</span><span class="p">(</span><span class="nv">$input_data</span><span class="p">,</span> <span class="nv">$rules</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$is_valid</span> <span class="o">===</span> <span class="k">TRUE</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">echo</span> <span class="s1">'Validation passed!'</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nb">print_r</span><span class="p">(</span><span class="nv">$is_valid</span><span class="p">);</span>
<span class="p">}</span>
</code></pre><h1 id='zip-class'>Zip Class</h1>
<blockquote>
<p>First of all you need to load the library file</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'zip'</span><span class="p">);</span>
</code></pre><h2 id='adding-new-files-to-the-zip-creating-new-zip-file'>Adding new files to the zip / Creating new zip file:</h2>
<blockquote>
<p>Multi-line style</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">zip_start</span><span class="p">(</span><span class="s2">"path/to/new/or/old/zip_file.zip"</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">zip_add</span><span class="p">(</span><span class="s2">"path/to/example.png"</span><span class="p">);</span> <span class="c1">// adding a file
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">zip_add</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">"path/to/example1.png"</span><span class="p">,</span><span class="s2">"path/to/example2.png"</span><span class="p">));</span> <span class="c1">// adding two files as an array
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">zip_add</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">"path/to/example1.png"</span><span class="p">,</span><span class="s2">"path/to/directory/"</span><span class="p">));</span> <span class="c1">// adding one file and one directory
</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">zip_end</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>One-line style</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">zip_files</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">"path/to/new/or/old/zip_file.zip"</span><span class="p">,</span><span class="s2">"path/to/directory/"</span><span class="p">),</span><span class="s2">"path/to/zip/file.zip"</span><span class="p">);</span>
</code></pre><h2 id='extracting-unzipping-files'>Extracting (unzipping) files:</h2>
<blockquote>
<p>Multi-line style</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">unzip_file</span><span class="p">(</span><span class="s2">"path/to/new/or/old/zip_file.zip"</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">unzip_to</span><span class="p">(</span><span class="s2">"path/to/containing/directory/"</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>One-line style</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">-&gt;</span><span class="na">unzip_file</span><span class="p">(</span><span class="s2">"path/to/new/or/old/zip_file.zip"</span><span class="p">,</span><span class="s2">"path/to/containing/directory/"</span><span class="p">);</span>
</code></pre>
      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
